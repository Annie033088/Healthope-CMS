(function(){"use strict";var t={5660:function(t,e,i){t.exports=i.p+"img/HealthopeCMSLogo.8c088643.png"},6709:function(t,e,i){t.exports=i.p+"img/HealthopeLogo-circle-removebg-preview.277aed21.png"},9e3:function(t,e,i){var a=i(6848),n=i(6178),o=function(){var t=this;t._self._c;return t._m(0)},s=[function(){var t=this,e=t._self._c;return e("div",[e("h1",{staticClass:"homeTitle"},[t._v("你好，管理者")]),e("h2",{staticClass:"homeTitle"},[t._v("歡迎來到 Healthope 後台管理網站")]),e("div",{staticClass:"imgContainer"},[e("img",{staticClass:"imgHealthopeLogo",attrs:{src:i(6709)}})])])}],r={name:"HealthopeHome",components:{},data(){return{tasks:[]}}},l=r,c=i(1656),d=(0,c.A)(l,o,s,!1,null,"08864e60",null),u=d.exports,h=function(){var t=this,e=t._self._c;return e("div",[t._m(0),e("div",{staticClass:"box"},[e("div",{staticClass:"card"},[t._m(1),e("div",{staticClass:"loginFormContainer"},[e("div",{staticClass:"form"},[e("span",{staticClass:"inputSpan"},[e("label",{staticClass:"label"},[t._v("使用者帳號")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.account,expression:"account"}],domProps:{value:t.account},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login.apply(null,arguments)},input:function(e){e.target.composing||(t.account=e.target.value)}}})]),e("span",{staticClass:"inputSpan"},[e("label",{staticClass:"label"},[t._v("使用者密碼")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.pwd,expression:"pwd"}],attrs:{type:"password"},domProps:{value:t.pwd},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login.apply(null,arguments)},input:function(e){e.target.composing||(t.pwd=e.target.value)}}})]),t.loginFail?e("span",{staticClass:"hintSpan"},[t._v(t._s(this.hintText))]):t._e(),e("button",{staticClass:"btnLogin",on:{click:function(e){return t.login()}}},[t._v("登入")])])])])])])},p=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"loginTitleContainer"},[e("div",[e("h1",[t._v("歡迎使用")]),e("h1",[t._v("Healthope 後台管理網站")])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"loginTextContainer"},[e("h2",[t._v("請輸入帳號密碼")])])}],m=(i(4114),{name:"HealthopeLogin",data(){return{beforeLoginFlag:!0,loginFail:!1,account:"",pwd:"",hintText:""}},methods:{goToLogin(){this.beforeLoginFlag=!this.beforeLoginFlag},async login(){const t=/^(?=.*[a-zA-Z])(?=.*\d)[a-zA-Z\d]{8,20}$/;if(!t.test(this.account)||!t.test(this.pwd))return this.hintText="請輸入 8~20 位英文數字",void(this.loginFail=!0);if(this.account===this.pwd)return this.hintText="帳號密碼請勿一致",void(this.loginFail=!0);try{const t={Account:this.account,Pwd:this.pwd},e=await this.$axios.post("/api/AccountAccess/VerifyAdminLogin",t);if(e.data.ErrorCode===this.$errorCodeDefine.Success)return this.loginFail=!1,this.$emit("sendPermission",e.data.ApiDataObject),void this.$router.push("/");this.loginFail=!0,this.hintText="帳號密碼輸入錯誤"}catch(e){console.error("登入驗證時發生錯誤",e)}}}}),C=m,f=(0,c.A)(C,h,p,!1,null,"97995424",null),g=f.exports,v=function(){var t=this,e=t._self._c;return e("div",[e("TitleCard",{attrs:{text:"管理者清單"},on:{refreshPage:function(e){return t.$emit("refreshPage")}}}),e("div",{staticClass:"functionColumn"},[e("BtnNormal",{attrs:{text:"新增管理者"},on:{click:function(e){return t.redirect("/admin/add")}}}),e("SelectInput",{attrs:{placeholder:"Account..."},on:{select:function(e){return t.selectAdminByAccount()}},model:{value:t.searchAccount,callback:function(e){t.searchAccount=e},expression:"searchAccount"}}),e("StatusSelector",{on:{change:t.selectAdminByStatus},model:{value:t.selectStatus,callback:function(e){t.selectStatus=e},expression:"selectStatus"}}),e("SortSelector",{attrs:{options:[{value:"account",label:"帳號"},{value:"status",label:"狀態"}],sortOption:t.selectSortOption,sortOrder:t.selectSortOrder},on:{"update:sortOption":function(e){t.selectSortOption=e},"update:sort-option":function(e){t.selectSortOption=e},"update:sortOrder":function(e){t.selectSortOrder=e},"update:sort-order":function(e){t.selectSortOrder=e},change:t.getAdminData}}),e("RecordSelector",{attrs:{parentValue:t.recordPerPage},on:{"update:parentValue":function(e){t.recordPerPage=e},"update:parent-value":function(e){t.recordPerPage=e},change:t.getAdminData}}),e("BtnNormal",{attrs:{text:"差異紀錄"}}),e("SvgReset",{on:{click:t.resetSearchingRecord}})],1),e("div",{staticClass:"adminTable"},t._l(t.adminList,(function(i,a){return e("div",{key:a,staticClass:"card",on:{click:function(e){return t.goEditAdmin(i.AdminId)}}},[e("div",{staticClass:"cardContent"},[e("div",{staticClass:"cardImage"},[e("svg",{attrs:{width:"50",height:"50",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M12 4C13.0609 4 14.0783 4.42143 14.8284 5.17157C15.5786 5.92172 16 6.93913 16 8C16 9.06087 15.5786 10.0783 14.8284 10.8284C14.0783 11.5786 13.0609 12 12 12C10.9391 12 9.92172 11.5786 9.17157 10.8284C8.42143 10.0783 8 9.06087 8 8C8 6.93913 8.42143 5.92172 9.17157 5.17157C9.92172 4.42143 10.9391 4 12 4ZM12 14C16.42 14 20 15.79 20 18V20H4V18C4 15.79 7.58 14 12 14Z",fill:"white"}})])]),e("div",{staticClass:"cardTitle"},[e("div",{staticClass:"cardMainTitle"},[e("span",[t._v(t._s(i.Account))])]),e("div",{staticClass:"cardSubTitle"},[e("span",[t._v("狀態："+t._s(i.Status?"啟用":"停用"))])])]),e("div",{staticClass:"cardEndText"},[e("span",[t._v(t._s(t.adminIdentityToText(i.Identity)))])])]),e("SvgDelete",{attrs:{size:"40"},on:{click:function(e){return e.stopPropagation(),t.delAdmin(i.AdminId)}}})],1)})),0),e("div",[e("PaginationComponent",{attrs:{currentPage:t.currentPage,totalPage:t.totalPage},on:{searchPage:t.searchPage}})],1)],1)},x=[],b=function(){var t=this,e=t._self._c;return e("button",{staticClass:"btnNormal",attrs:{disabled:t.disabled},on:{click:function(e){return t.$emit("click",e)}}},[t._v(" "+t._s(t.text)+" ")])},w=[],S={name:"BtnNormal",props:{text:[String,Number],disabled:Boolean}},y=S,B=(0,c.A)(y,b,w,!1,null,"a86faa74",null),P=B.exports,_=function(){var t=this,e=t._self._c;return e("div",{staticClass:"svgResetContainer"},[e("svg",{staticClass:"btn svgReset",attrs:{width:t.size,height:t.size,viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M3.578 6.48696C4.55072 4.80817 6.1004 3.5401 7.93848 2.91885C9.77657 2.29761 11.7778 2.36554 13.5695 3.10999C15.3613 3.85444 16.8214 5.22467 17.678 6.96555C18.5347 8.70644 18.7294 10.6993 18.2261 12.5731C17.7227 14.4469 16.5556 16.0739 14.9419 17.1512C13.3282 18.2285 11.378 18.6826 9.45441 18.4291C7.53082 18.1755 5.76494 17.2315 4.48557 15.7728C3.20621 14.3141 2.50055 12.4402 2.5 10.5",stroke:"black","stroke-linecap":"round","stroke-linejoin":"round"}}),e("path",{attrs:{d:"M7.5 6.5H3.5V2.5",stroke:"black","stroke-linecap":"round","stroke-linejoin":"round"}})])])},A=[],$={name:"SvgReset",props:{size:{Number:Number,default:24}}},F=$,I=(0,c.A)(F,_,A,!1,null,"625848f2",null),k=I.exports,T=function(){var t=this,e=t._self._c;return e("div",{staticClass:"svgDeleteContainer",on:{click:function(e){return t.$emit("click",e)}}},[e("svg",{staticClass:"btn btnDelete",attrs:{width:t.size,height:t.size,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M7.616 20C7.168 20 6.78667 19.8426 6.472 19.528C6.15733 19.2133 6 18.8323 6 18.385V5.99998H5V4.99998H9V4.22998H15V4.99998H19V5.99998H18V18.385C18 18.845 17.846 19.2293 17.538 19.538C17.23 19.8466 16.8453 20.0006 16.384 20H7.616ZM17 5.99998H7V18.385C7 18.5643 7.05767 18.7116 7.173 18.827C7.28833 18.9423 7.436 19 7.616 19H16.385C16.5383 19 16.6793 18.936 16.808 18.808C16.9367 18.68 17.0007 18.5386 17 18.384V5.99998ZM9.808 17H10.808V7.99998H9.808V17ZM13.192 17H14.192V7.99998H13.192V17Z",fill:"#AA7F7F"}})])])},E=[],M={name:"SvgDelete",props:{size:{Number:Number,default:24}}},N=M,O=(0,c.A)(N,T,E,!1,null,"1dd8603a",null),R=O.exports,L=function(){var t=this,e=t._self._c;return e("div",{staticClass:"titleCard"},[e("h2",{staticClass:"title",on:{click:function(e){return t.redirect()}}},[t._v(t._s(t.text))])])},D=[],H={name:"TitleCard",props:{text:String},methods:{redirect(){"管理者清單"===this.text?"/admin"===this.$route.path?this.$emit("refreshPage"):this.$router.push("/admin"):"會員清單"===this.text&&("/member"===this.$route.path?this.$emit("refreshPage"):this.$router.push("/member"))}}},V=H,q=(0,c.A)(V,L,D,!1,null,"489954cb",null),Z=q.exports,U=(i(8111),i(1701),function(){var t=this,e=t._self._c;return e("div",{staticClass:"sortContainer"},[e("label",{staticClass:"labSort"},[t._v("排序選項：")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.localSortOption,expression:"localSortOption"}],staticClass:"selectSortOrder",on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.localSortOption=e.target.multiple?i:i[0]},t.emitChange]}},[e("option",{attrs:{value:""}},[t._v("無")]),t._l(t.options,(function(i){return e("option",{key:i.value,domProps:{value:i.value}},[t._v(" "+t._s(i.label)+" ")])}))],2),e("label",{staticClass:"labRadioBox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.localSortOrder,expression:"localSortOrder"}],attrs:{type:"radio",name:"radioSort",value:"ascending"},domProps:{checked:t._q(t.localSortOrder,"ascending")},on:{change:[function(e){t.localSortOrder="ascending"},t.emitChange]}}),e("span",{staticClass:"textRadio"},[t._v("升序")])]),e("label",{staticClass:"labRadioBox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.localSortOrder,expression:"localSortOrder"}],attrs:{type:"radio",name:"radioSort",value:"descending"},domProps:{checked:t._q(t.localSortOrder,"descending")},on:{change:[function(e){t.localSortOrder="descending"},t.emitChange]}}),e("span",{staticClass:"textRadio"},[t._v("降序")])])])}),j=[],z={name:"SortSelector",props:{options:{type:Array,required:!0},sortOption:{type:String,default:""},sortOrder:{type:String,default:""}},data(){return{localSortOption:this.sortOption,localSortOrder:this.sortOrder}},watch:{sortOption(t){this.localSortOption=t},sortOrder(t){this.localSortOrder=t}},methods:{emitChange(){this.$emit("update:sortOption",this.localSortOption),this.$emit("update:sortOrder",this.localSortOrder),this.$emit("change")}}},W=z,G=(0,c.A)(W,U,j,!1,null,"7488bbb8",null),K=G.exports,Y=function(){var t=this,e=t._self._c;return e("div",{staticClass:"selectRecordContainer"},[e("label",{staticClass:"labRecord"},[t._v("顯示：")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.localValue,expression:"localValue"}],staticClass:"selectRecord",on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.localValue=e.target.multiple?i:i[0]},t.handleChange]}},t._l(t.options,(function(i){return e("option",{key:i,domProps:{value:i}},[t._v(" "+t._s(i)+" ")])})),0),e("label",{},[t._v("筆")])])},J=[],Q={name:"RecordSelector",props:{parentValue:{type:[String,Number],required:!0},options:{type:Array,default:()=>["8","12","16"]}},data(){return{localValue:this.parentValue}},watch:{parentValue(t){this.localValue=t}},methods:{handleChange(){this.$emit("update:parentValue",this.localValue),this.$emit("change")}}},X=Q,tt=(0,c.A)(X,Y,J,!1,null,"3d7205b4",null),et=tt.exports,it=function(){var t=this,e=t._self._c;return e("div",{staticClass:"statusContainer"},[e("label",{staticClass:"labStatus"},[t._v("狀態：")]),e("label",{staticClass:"labRadioBox"},[e("input",{attrs:{type:"radio",name:"radioStatus",value:""},domProps:{checked:""===t.value},on:{change:function(e){return t.updateValue("")}}}),e("span",{staticClass:"textRadio"},[t._v("無")])]),e("label",{staticClass:"labRadioBox"},[e("input",{attrs:{type:"radio",name:"radioStatus",value:"true"},domProps:{checked:"true"===t.value},on:{change:function(e){return t.updateValue("true")}}}),e("span",{staticClass:"textRadio"},[t._v("啟用")])]),e("label",{staticClass:"labRadioBox"},[e("input",{attrs:{type:"radio",name:"radioStatus",value:"false"},domProps:{checked:"false"===t.value},on:{change:function(e){return t.updateValue("false")}}}),e("span",{staticClass:"textRadio"},[t._v("停用")])])])},at=[],nt={name:"StatusSelector",props:{value:{type:String,required:!0}},methods:{updateValue(t){this.$emit("input",t),this.$emit("change")}}},ot=nt,st=(0,c.A)(ot,it,at,!1,null,"6a2b67ef",null),rt=st.exports,lt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"selectInputGroup"},[e("input",{attrs:{type:"text",autocomplete:"off",placeholder:t.placeholder},domProps:{value:t.localInputText},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$emit("select")},input:t.onInput}}),e("svg",{staticClass:"btnSearch",attrs:{width:"30",height:"30",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},on:{click:function(e){return t.$emit("select")}}},[e("path",{attrs:{d:"M16.893 16.92L19.973 20M19 11.5C19 13.4891 18.2098 15.3968 16.8033 16.8033C15.3968 18.2098 13.4891 19 11.5 19C9.51088 19 7.60322 18.2098 6.1967 16.8033C4.79018 15.3968 4 13.4891 4 11.5C4 9.51088 4.79018 7.60322 6.1967 6.1967C7.60322 4.79018 9.51088 4 11.5 4C13.4891 4 15.3968 4.79018 16.8033 6.1967C18.2098 7.60322 19 9.51088 19 11.5Z",stroke:"#B4B4B4","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}})])])},ct=[],dt={name:"SelectInput",props:{placeholder:String,value:String},data(){return{localInputText:this.value}},watch:{value(t){this.localInputText=t}},methods:{onInput(t){const e=t.target.value;this.localInputText=e,this.$emit("input",e)}}},ut=dt,ht=(0,c.A)(ut,lt,ct,!1,null,"14582385",null),pt=ht.exports;const mt={Default:0,Success:1,KickOut:2,Baned:3,PermissionModified:4,InvalidFormatOrEntry:5,ServerError:6,NoPermission:7,UserNotLogin:8,LoginFailed:9,CreateFailed:10,ModifiedFailed:11,DeleteFailed:12,GetFailed:13,HasBeenModified:14,ModifySuperAdminFailed:15,DuplicatePhone:16,DuplicateAccount:17,AlreadyVerify:18,OtpCooldown:19,VerifyFail:20};function Ct(t){let e;switch(t){case 1:return e="成功!",e;case 2:return e="您的帳號已被其他使用者踢出",e;case 3:return e="您的帳號已被禁用",e;case 4:return e="您的權限已被更動，請重新登入",e;case 5:return e="請求格式錯誤或無效數據",e;case 6:return e="伺服器錯誤，請再試一次",e;case 7:return e="沒有此權限",e;case 8:return e="使用者未登入",e;case 9:return e="登入失敗，請再試一次",e;case 10:return e="新增失敗，請再試一次",e;case 11:return e="修改失敗，請再試一次",e;case 12:return e="刪除失敗，請再試一次",e;case 13:return e="取得資料失敗，請再試一次",e;case 14:return e="資料已被異動",e;case 15:return e="超級管理員資料不得修改",e;case 16:return e="輸入的手機號碼已被註冊",e;case 17:return e="輸入的帳號已被註冊",e;case 18:return e="已驗證，不需再驗證",e;case 19:return e="OTP 還在冷卻時間不可發送",e;case 20:return e="驗證失敗",e;default:return e="",e}}const ft={None:0,EditAdmin:1,EditMember:2};function gt(t){let e;switch(t){case 0:return e="無",e;case 1:return e="超級管理員",e;case 2:return e="一般管理員",e;case 3:return e="接待員",e;case 4:return e="會計",e;case 5:return e="課程管理員",e;case 6:return e="教練管理員",e;case 7:return e="業務",e;default:}}var vt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"paginationContainer"},[e("div",{staticClass:"paginationBtnContainer"},[e("BtnNormal",{staticClass:"btnNormal",attrs:{text:"＜"},on:{click:function(e){return t.searchPage(t.currentPage-1)}}}),e("BtnNormal",{staticClass:"btnNormal",class:{currentPage:t.isCurrentPage("1")},attrs:{text:"1"},on:{click:function(e){return t.searchPage(1)}}}),t._l(t.visibleBtnTextList,(function(i,a){return e("BtnNormal",{key:a,staticClass:"btnNormal",class:{currentPage:t.isCurrentPage(i)},attrs:{text:i},on:{click:function(e){return t.searchPage(i)}}})})),t.totalPage>5?e("BtnNormal",{staticClass:"btnNormal",class:{currentPage:t.isCurrentPage(t.totalPage)},attrs:{text:t.totalPage},on:{click:function(e){return t.searchPage(t.totalPage)}}}):t._e(),e("BtnNormal",{staticClass:"btnNormal",attrs:{text:"＞"},on:{click:function(e){return t.searchPage(t.currentPage+1)}}})],2),e("div",{staticClass:"searchPageContainer"},[e("label",{},[t._v("第")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.txbSearchPage,expression:"txbSearchPage"}],staticClass:"searchPage",domProps:{value:t.txbSearchPage},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchPage(t.txbSearchPage)},input:function(e){e.target.composing||(t.txbSearchPage=e.target.value)}}}),e("label",{},[t._v("頁")])])])},xt=[],bt=(i(2489),{name:"PaginationComponent",props:{currentPage:{type:Number},totalPage:{type:Number}},data(){return{txbSearchPage:""}},components:{BtnNormal:P},methods:{isCurrentPage(t){const e=Number(t);return!isNaN(e)&&e===this.currentPage},searchPage(t){const e=Number(t);e<1||isNaN(e)||e===this.currentPage||e>this.totalPage||this.$emit("searchPage",e)}},computed:{visibleBtnTextList(){return this.btnTextList.filter(((t,e)=>this.totalPage>e+1))},btnTextList(){return this.currentPage<5?["2","3","4","5","‧‧‧"]:this.currentPage>this.totalPage-4?["‧‧‧",this.totalPage-4,this.totalPage-3,this.totalPage-2,this.totalPage-1]:["‧‧‧",this.currentPage-1,this.currentPage,this.currentPage+1,"‧‧‧"]}}}),wt=bt,St=(0,c.A)(wt,vt,xt,!1,null,"24854c3e",null),yt=St.exports,Bt={name:"HealthopeAdmin",components:{BtnNormal:P,TitleCard:Z,SelectInput:pt,SvgDelete:R,SvgReset:k,SortSelector:K,RecordSelector:et,StatusSelector:rt,PaginationComponent:yt},props:{notificationBoxConfirmFlag:Boolean,text:String},data(){return{adminList:[],selectStatus:"",selectSortOrder:"ascending",selectSortOption:"",recordPerPage:"8",searchAccount:"",currentPage:1,totalPage:1,searchingPage:1}},methods:{adminIdentityToText:gt,goEditAdmin(t){t<1||this.$router.push({path:"/admin/edit",query:{id:t}})},redirect(t){this.$route.path!==t&&this.$router.push(t)},searchPage(t){this.searchingPage=t,this.getAdminData()},selectAdminByAccount(){if(this.searchingPage=1,this.searchAccount=this.searchAccount.trim(),""===this.searchAccount)return this.$notificationBox.notificationBoxFlag=!0,this.$notificationBox.notificationBoxTitle="搜尋不得為空",void(this.$notificationBox.notificationBoxErrorCode=0);this.getAdminData()},selectAdminByStatus(){this.searchingPage=1,this.getAdminData()},async getAdminData(){if(!(this.searchAccount.length>1||""===this.searchAccount))return this.searchAccount="",this.$notificationBox.notificationBoxFlag=!0,this.$notificationBox.notificationBoxTitle="輸入長度需至少 2 位數",void(this.$notificationBox.notificationBoxErrorCode=5);if("true"!==this.selectStatus&&"false"!==this.selectStatus&&""!==this.selectStatus)return;if("ascending"!==this.selectSortOrder&&"descending"!==this.selectSortOrder)return;if("account"!==this.selectSortOption&&"status"!==this.selectSortOption&&""!==this.selectSortOption)return;if("8"!==this.recordPerPage&&"12"!==this.recordPerPage&&"16"!==this.recordPerPage)return;if(this.searchingPage<1)return;let t={Status:this.selectStatus||null,SortOrder:this.selectSortOrder,SortOption:this.selectSortOption||null,RecordPerPage:this.recordPerPage,SearchAccount:this.searchAccount||null,Page:this.searchingPage};try{const e=await this.$axios.post("/api/Admin/GetAdmin",t);e.data.ErrorCode===this.$errorCodeDefine.Success?(this.currentPage=this.searchingPage,this.adminList=e.data.ApiDataObject.AdminList,this.totalPage=e.data.ApiDataObject.TotalPage):(this.unwatchFlag=this.$watch("notificationBoxConfirmFlag",(t=>{if(t){let t=null;this.$emit("afterConfirmEvent",t),this.unwatchFlag(),this.unwatchFlag=null}})),this.$notificationBox.notificationBoxFlag=!0,this.$notificationBox.notificationBoxTitle="發生錯誤!",this.$notificationBox.notificationBoxErrorCode=e.data.ErrorCode)}catch(e){console.error("取得管理者列表時發生錯誤",e)}},delAdmin(t){this.unwatchFlag=this.$watch("notificationBoxConfirmFlag",(e=>{if(e){let e="stop";this.$emit("afterConfirmEvent",e);try{this.submitDelAdmin(t)}catch(i){console.error("刪除管理員時發生錯誤",i)}finally{this.unwatchFlag(),this.unwatchFlag=null}}})),this.$notificationBox.notificationBoxFlag=!0,this.$notificationBox.notificationBoxTitle="此操作不可修改，確認刪除?",this.$notificationBox.notificationBoxCancelFlag=!0,this.$notificationBox.notificationBoxErrorCode=0},async submitDelAdmin(t){if(!(t<1))try{let e={AdminId:t};const i=await this.$axios.post("/api/Admin/DeleteAdmin",e);i.data.ErrorCode===this.$errorCodeDefine.Success?this.$emit("refreshPage"):(this.unwatchFlag=this.$watch("notificationBoxConfirmFlag",(t=>{if(t){let t=null;this.$emit("afterConfirmEvent",t),this.unwatchFlag(),this.unwatchFlag=null}})),this.$notificationBox.notificationBoxFlag=!0,this.$notificationBox.notificationBoxTitle="發生錯誤!",this.$notificationBox.notificationBoxErrorCode=i.data.ErrorCode)}catch(e){console.error("刪除失敗",e)}},resetSearchingRecord(){this.selectStatus="",this.selectSortOrder="ascending",this.selectSortOption="",this.recordPerPage="8",this.searchAccount="",this.searchingPage=1,this.getAdminData()}},created(){this.getAdminData()}},Pt=Bt,_t=(0,c.A)(Pt,v,x,!1,null,"cef00ab2",null),At=_t.exports,$t=function(){var t=this,e=t._self._c;return e("div",[e("TitleCard",{attrs:{text:"管理者清單"}}),e("SubTitleCard",{attrs:{text:"新增管理者"}}),e("div",{staticClass:"addInputContainer"},[e("div",{staticClass:"addInputLeft"},[e("InputSpan",{attrs:{labelText:"帳號"},model:{value:t.account,callback:function(e){t.account=e},expression:"account"}}),e("InputSpan",{attrs:{labelText:"密碼",inputType:"password"},model:{value:t.pwd,callback:function(e){t.pwd=e},expression:"pwd"}}),e("InputSpan",{attrs:{labelText:"再輸入一次密碼",inputType:"password"},model:{value:t.pwdAgain,callback:function(e){t.pwdAgain=e},expression:"pwdAgain"}})],1),e("div",{staticClass:"addInputRight"},[e("span",{staticClass:"inputSpan"},[e("label",{staticClass:"label"},[t._v("請選擇身份")]),e("div",{staticClass:"radioContainer"},[e("label",{staticClass:"labRadioBox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectIdentity,expression:"selectIdentity"}],attrs:{type:"radio",name:"radioIdentity",value:"None",checked:""},domProps:{checked:t._q(t.selectIdentity,"None")},on:{change:function(e){t.selectIdentity="None"}}}),e("span",{staticClass:"textRadio"},[t._v("無")])]),e("label",{staticClass:"labRadioBox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectIdentity,expression:"selectIdentity"}],attrs:{type:"radio",name:"radioIdentity",value:"Admin"},domProps:{checked:t._q(t.selectIdentity,"Admin")},on:{change:function(e){t.selectIdentity="Admin"}}}),e("span",{staticClass:"textRadio"},[t._v("管理員")])]),e("label",{staticClass:"labRadioBox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectIdentity,expression:"selectIdentity"}],attrs:{type:"radio",name:"radioIdentity",value:"Receptionist"},domProps:{checked:t._q(t.selectIdentity,"Receptionist")},on:{change:function(e){t.selectIdentity="Receptionist"}}}),e("span",{staticClass:"textRadio"},[t._v("櫃檯人員")])]),e("label",{staticClass:"labRadioBox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectIdentity,expression:"selectIdentity"}],attrs:{type:"radio",name:"radioIdentity",value:"Accountant"},domProps:{checked:t._q(t.selectIdentity,"Accountant")},on:{change:function(e){t.selectIdentity="Accountant"}}}),e("span",{staticClass:"textRadio"},[t._v("會計")])]),e("label",{staticClass:"labRadioBox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectIdentity,expression:"selectIdentity"}],attrs:{type:"radio",name:"radioIdentity",value:"CourseManager"},domProps:{checked:t._q(t.selectIdentity,"CourseManager")},on:{change:function(e){t.selectIdentity="CourseManager"}}}),e("span",{staticClass:"textRadio"},[t._v("課程管理")])]),e("label",{staticClass:"labRadioBox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectIdentity,expression:"selectIdentity"}],attrs:{type:"radio",name:"radioIdentity",value:"CoachManager"},domProps:{checked:t._q(t.selectIdentity,"CoachManager")},on:{change:function(e){t.selectIdentity="CoachManager"}}}),e("span",{staticClass:"textRadio"},[t._v("教練管理")])]),e("label",{staticClass:"labRadioBox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectIdentity,expression:"selectIdentity"}],attrs:{type:"radio",name:"radioIdentity",value:"SalesRepresentative"},domProps:{checked:t._q(t.selectIdentity,"SalesRepresentative")},on:{change:function(e){t.selectIdentity="SalesRepresentative"}}}),e("span",{staticClass:"textRadio"},[t._v("業務")])])])])])]),e("div",{staticClass:"hintContainer"},[t.addFail?e("span",{staticClass:"hintSpan"},[t._v(t._s(this.hintText))]):t._e()]),e("div",{staticClass:"btnAddContainer"},[e("BtnConfirm",{attrs:{text:"創建"},on:{click:function(e){return t.addAdmin()}}})],1)],1)},Ft=[],It=function(){var t=this,e=t._self._c;return e("div",{staticClass:"subTitleCard"},[e("div",{staticClass:"subTitle"},[e("div",{staticClass:"goBack btn",on:{click:function(e){return t.redirectBack()}}},[e("svg",{attrs:{width:"15",height:"30",viewBox:"0 0 12 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M2.452 6.58L3.513 5.52L9.292 11.297C9.38516 11.3896 9.45909 11.4996 9.50953 11.6209C9.55998 11.7421 9.58595 11.8722 9.58595 12.0035C9.58595 12.1348 9.55998 12.2649 9.50953 12.3861C9.45909 12.5074 9.38516 12.6174 9.292 12.71L3.513 18.49L2.453 17.43L7.877 12.005L2.452 6.58Z",fill:"black"}})])]),e("p",[t._v(" "+t._s(t.text)+" ")])])])},kt=[],Tt={name:"SubTitleCard",props:{text:String},methods:{redirectBack(){this.$router.back()}}},Et=Tt,Mt=(0,c.A)(Et,It,kt,!1,null,"7f587422",null),Nt=Mt.exports,Ot=function(){var t=this,e=t._self._c;return e("span",{staticClass:"inputSpan"},[e("label",{staticClass:"label"},[t._v(t._s(t.labelText))]),e("input",{attrs:{type:t.inputType},domProps:{value:t.localInputText},on:{input:t.onInput,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$emit("enter")}}})])},Rt=[],Lt={name:"InputSpan",props:{labelText:String,value:String,inputType:{type:String,default:"text"}},data(){return{localInputText:this.value}},watch:{value(t){this.localInputText=t}},methods:{onInput(t){const e=t.target.value;this.localInputText=e,this.$emit("input",e)}}},Dt=Lt,Ht=(0,c.A)(Dt,Ot,Rt,!1,null,"2380fb12",null),Vt=Ht.exports,qt=function(){var t=this,e=t._self._c;return e("button",{staticClass:"btnConfirm btn",on:{click:function(e){return t.$emit("click",e)}}},[t._v(" "+t._s(t.text)+" ")])},Zt=[],Ut={name:"BtnConfirm",props:{text:[String,Number]}},jt=Ut,zt=(0,c.A)(jt,qt,Zt,!1,null,"da46619a",null),Wt=zt.exports,Gt={name:"HealthopeAddAdmin",components:{TitleCard:Z,SubTitleCard:Nt,InputSpan:Vt,BtnConfirm:Wt},props:{text:String,notificationBoxConfirmFlag:Boolean},data(){return{hintText:"",account:"",pwd:"",pwdAgain:"",addFail:!1,selectIdentity:"None"}},methods:{async addAdmin(){const t=/^(?=.*[a-zA-Z])(?=.*\d)[a-zA-Z\d]{8,20}$/;if(!t.test(this.account)||!t.test(this.pwd))return this.hintText="請輸入 8~20 位英文數字",void(this.addFail=!0);if(this.account===this.pwd)return this.hintText="帳號密碼不可相同",void(this.addFail=!0);if(this.pwd!==this.pwdAgain)return this.hintText="兩次密碼輸入不一致",void(this.addFail=!0);try{const t={Account:this.account,Pwd:this.pwd,Identity:this.selectIdentity},e=await this.$axios.post("/api/Admin/AddAdmin",t);if(e.data.ErrorCode===this.$errorCodeDefine.Success)return this.addFail=!1,void this.$router.push("/admin");this.unwatchFlag=this.$watch("notificationBoxConfirmFlag",(t=>{if(t){let t=null;this.$emit("afterConfirmEvent",t),this.unwatchFlag(),this.unwatchFlag=null}})),this.$notificationBox.notificationBoxFlag=!0,this.$notificationBox.notificationBoxTitle="發生錯誤!",this.$notificationBox.notificationBoxErrorCode=e.data.ErrorCode}catch(e){console.error("創建管理者時發生錯誤",e)}}}},Kt=Gt,Yt=(0,c.A)(Kt,$t,Ft,!1,null,"d8445360",null),Jt=Yt.exports,Qt=function(){var t=this,e=t._self._c;return e("div",[e("TitleCard",{attrs:{text:"管理者清單"}}),e("SubTitleCard",{attrs:{text:"修改管理者"}}),e("div",{staticClass:"adminCardContainer"},[e("div",{staticClass:"adminCard"},[e("div",{staticClass:"adminText"},[t._v("管理者")]),e("div",{staticClass:"admin"},[e("div",{staticClass:"cardImage"},[e("svg",{attrs:{width:"50",height:"50",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M12 4C13.0609 4 14.0783 4.42143 14.8284 5.17157C15.5786 5.92172 16 6.93913 16 8C16 9.06087 15.5786 10.0783 14.8284 10.8284C14.0783 11.5786 13.0609 12 12 12C10.9391 12 9.92172 11.5786 9.17157 10.8284C8.42143 10.0783 8 9.06087 8 8C8 6.93913 8.42143 5.92172 9.17157 5.17157C9.92172 4.42143 10.9391 4 12 4ZM12 14C16.42 14 20 15.79 20 18V20H4V18C4 15.79 7.58 14 12 14Z",fill:"white"}})])]),e("div",{staticClass:"adminName"},[e("span",[t._v(t._s(t.admin.Account))])])])])]),e("div",{staticClass:"editInputContainer"},[e("div",{staticClass:"editInputTop"},[e("EditStatusInput",{model:{value:t.selectStatus,callback:function(e){t.selectStatus=e},expression:"selectStatus"}})],1),e("div",{staticClass:"editInputBotton"},[e("span",{staticClass:"inputSpan"},[e("label",{staticClass:"lab"},[t._v("請修改身份")]),e("div",{staticClass:"radioContainer"},[e("label",{staticClass:"labRadioBox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectIdentity,expression:"selectIdentity"}],attrs:{type:"radio",name:"radioIdentity",value:"None",checked:""},domProps:{checked:t._q(t.selectIdentity,"None")},on:{change:function(e){t.selectIdentity="None"}}}),e("span",{staticClass:"textRadio"},[t._v("無")])]),e("label",{staticClass:"labRadioBox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectIdentity,expression:"selectIdentity"}],attrs:{type:"radio",name:"radioIdentity",value:"Admin"},domProps:{checked:t._q(t.selectIdentity,"Admin")},on:{change:function(e){t.selectIdentity="Admin"}}}),e("span",{staticClass:"textRadio"},[t._v("管理員")])]),e("label",{staticClass:"labRadioBox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectIdentity,expression:"selectIdentity"}],attrs:{type:"radio",name:"radioIdentity",value:"Receptionist"},domProps:{checked:t._q(t.selectIdentity,"Receptionist")},on:{change:function(e){t.selectIdentity="Receptionist"}}}),e("span",{staticClass:"textRadio"},[t._v("櫃檯人員")])]),e("label",{staticClass:"labRadioBox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectIdentity,expression:"selectIdentity"}],attrs:{type:"radio",name:"radioIdentity",value:"Accountant"},domProps:{checked:t._q(t.selectIdentity,"Accountant")},on:{change:function(e){t.selectIdentity="Accountant"}}}),e("span",{staticClass:"textRadio"},[t._v("會計")])]),e("label",{staticClass:"labRadioBox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectIdentity,expression:"selectIdentity"}],attrs:{type:"radio",name:"radioIdentity",value:"CourseManager"},domProps:{checked:t._q(t.selectIdentity,"CourseManager")},on:{change:function(e){t.selectIdentity="CourseManager"}}}),e("span",{staticClass:"textRadio"},[t._v("課程管理")])]),e("label",{staticClass:"labRadioBox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectIdentity,expression:"selectIdentity"}],attrs:{type:"radio",name:"radioIdentity",value:"CoachManager"},domProps:{checked:t._q(t.selectIdentity,"CoachManager")},on:{change:function(e){t.selectIdentity="CoachManager"}}}),e("span",{staticClass:"textRadio"},[t._v("教練管理")])]),e("label",{staticClass:"labRadioBox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectIdentity,expression:"selectIdentity"}],attrs:{type:"radio",name:"radioIdentity",value:"SalesRepresentative"},domProps:{checked:t._q(t.selectIdentity,"SalesRepresentative")},on:{change:function(e){t.selectIdentity="SalesRepresentative"}}}),e("span",{staticClass:"textRadio"},[t._v("業務")])])])])])]),e("div",{staticClass:"hintContainer"},[t.addFail?e("span",{staticClass:"hintSpan"},[t._v(t._s(this.hintText))]):t._e()]),e("div",{staticClass:"btnEditContainer"},[e("BtnConfirm",{attrs:{text:"確認修改"},on:{click:function(e){return t.editAdmin()}}})],1)],1)},Xt=[],te=function(){var t=this,e=t._self._c;return e("span",{staticClass:"statusInputSpan"},[e("label",{staticClass:"lab"},[t._v("請修改狀態")]),e("div",{staticClass:"statusRadioContainer"},[e("label",{staticClass:"labRadioBox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.localStatus,expression:"localStatus"}],attrs:{type:"radio",name:"radioStatus",value:"true"},domProps:{checked:t._q(t.localStatus,"true")},on:{change:function(e){t.localStatus="true"}}}),e("span",{staticClass:"textRadio"},[t._v("啟用")])]),e("label",{staticClass:"labRadioBox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.localStatus,expression:"localStatus"}],attrs:{type:"radio",name:"radioStatus",value:"false"},domProps:{checked:t._q(t.localStatus,"false")},on:{change:function(e){t.localStatus="false"}}}),e("span",{staticClass:"textRadio"},[t._v("停用")])])])])},ee=[],ie={name:"EditStatusInput",props:{value:{type:String,required:!0}},data(){return{localStatus:this.value}},watch:{localStatus(t){this.$emit("input",t)},value(t){this.localStatus=t}}},ae=ie,ne=(0,c.A)(ae,te,ee,!1,null,"7e657a8c",null),oe=ne.exports,se={name:"HealthopeEditAdmin",components:{TitleCard:Z,SubTitleCard:Nt,BtnConfirm:Wt,EditStatusInput:oe},props:{notificationBoxConfirmFlag:Boolean},data(){return{addFail:!1,selectIdentity:"None",selectStatus:"true",admin:{AdminId:0,Account:"",Status:!0,Identity:1,UpdateTime:""}}},methods:{async editAdmin(){try{let t=this.admin.Status?"true":"false",e=!1,i={AdminId:this.admin.AdminId,UpdateTime:this.admin.UpdateTime};if(this.selectStatus!==t){if("true"!==this.selectStatus&&"false"!==this.selectStatus)return;i.Status=this.selectStatus,e=!0}else i.Status=null;if(this.selectIdentity!==this.identityToText(this.admin.Identity)){let t=this.identityTextToNumber(this.selectIdentity);if(-1===t)return;i.Identity=t,e=!0}else i.Identity=null;if(!e)return;const a=await this.$axios.post("/api/Admin/EditAdmin",i);a.data.ErrorCode===this.$errorCodeDefine.Success?this.$router.push("/admin"):(this.unwatchFlag=this.$watch("notificationBoxConfirmFlag",(t=>{if(t){let t=null;this.$emit("afterConfirmEvent",t),this.unwatchFlag(),this.unwatchFlag=null}})),this.$notificationBox.notificationBoxFlag=!0,this.$notificationBox.notificationBoxTitle="發生錯誤!",this.$notificationBox.notificationBoxErrorCode=a.data.ErrorCode)}catch(t){console.error("取得特定管理者時發生錯誤",t)}},async getAdminById(t){try{let e={AdminId:t};const i=await this.$axios.post("/api/Admin/GetAdminById",e);i.data.ErrorCode===this.$errorCodeDefine.Success?(this.admin=i.data.ApiDataObject,this.admin.AdminId=t,this.selectStatus=this.admin.Status?"true":"false",this.selectIdentity=this.identityToText(this.admin.Identity)):(this.unwatchFlag=this.$watch("notificationBoxConfirmFlag",(t=>{if(t){let t="/admin";this.$emit("afterConfirmEvent",t),this.unwatchFlag(),this.unwatchFlag=null}})),this.$notificationBox.notificationBoxFlag=!0,this.$notificationBox.notificationBoxTitle="發生錯誤!",this.$notificationBox.notificationBoxErrorCode=i.data.ErrorCode)}catch(e){console.error("取得特定管理者時發生錯誤",e)}},identityToText(t){let e;switch(t){case 2:return e="Admin",e;case 3:return e="Receptionist",e;case 4:return e="Accountant",e;case 5:return e="CourseManager",e;case 6:return e="CoachManager",e;case 7:return e="SalesRepresentative",e;default:return e="None",e}},identityTextToNumber(t){let e;switch(t){case"None":return e=0,e;case"Admin":return e=2,e;case"Receptionist":return e=3,e;case"Accountant":return e=4,e;case"CourseManager":return e=5,e;case"CoachManager":return e=6,e;case"SalesRepresentative":return e=7,e;default:return-1}}},created(){this.$route.query.id?this.getAdminById(this.$route.query.id):this.$router.push("/admin")}},re=se,le=(0,c.A)(re,Qt,Xt,!1,null,"2dd4f2fa",null),ce=le.exports,de=function(){var t=this,e=t._self._c;return e("div",[e("TitleCard",{attrs:{text:"會員清單"},on:{refreshPage:function(e){return t.$emit("refreshPage")}}}),e("div",{staticClass:"functionColumn"},[e("SelectInput",{attrs:{placeholder:"Name..."},on:{select:t.selectMemberByName},model:{value:t.searchName,callback:function(e){t.searchName=e},expression:"searchName"}}),e("SelectInput",{attrs:{placeholder:"手機末三碼..."},on:{select:t.selectMemberByPhone},model:{value:t.searchPhone,callback:function(e){t.searchPhone=e},expression:"searchPhone"}}),e("StatusSelector",{on:{change:t.selectMemberByStatus},model:{value:t.selectStatus,callback:function(e){t.selectStatus=e},expression:"selectStatus"}}),e("SortSelector",{attrs:{options:[{value:"name",label:"姓名"},{value:"membershipExpiry",label:"會籍到期"},{value:"status",label:"狀態"}],sortOption:t.selectSortOption,sortOrder:t.selectSortOrder},on:{"update:sortOption":function(e){t.selectSortOption=e},"update:sort-option":function(e){t.selectSortOption=e},"update:sortOrder":function(e){t.selectSortOrder=e},"update:sort-order":function(e){t.selectSortOrder=e},change:t.getMemberData}}),e("RecordSelector",{attrs:{parentValue:t.recordPerPage},on:{"update:parentValue":function(e){t.recordPerPage=e},"update:parent-value":function(e){t.recordPerPage=e},change:t.getMemberData}}),e("SvgReset",{on:{click:t.resetSearchingRecord}})],1),e("TableNormal",{attrs:{columns:t.columns,rows:t.memberList,expandable:!0,editBtnFlag:!0,resetDetailIndexFlag:t.resetDetailIndexFlag},on:{goEdit:t.goEditMember},scopedSlots:t._u([{key:"detail",fn:function({row:i}){return[e("div",{staticClass:"detailRowContainer"},[e("div",{staticClass:"detailRowLeft"},[e("strong",[t._v("信箱：")]),t._v(" "+t._s(i.Email?i.Email:"無")+" "),e("br"),e("strong",[t._v("手機審核：")]),e("span",{class:{phoneVerifiedText:i.PhoneVerified,phoneUnverifiedText:!i.PhoneVerified}},[t._v(t._s(i.PhoneVerified?"通過":"待審核")+" ")]),e("br"),e("div",{staticClass:"groupClassRecordContainer"},[e("div",[e("strong",[t._v("未出席團課：")]),t._v(t._s(i.AbsenceTime)+" 次")]),e("div",[e("strong",[t._v("可否預約團課：")]),t._v(" "+t._s(i.AllowGroupClassFlag?"是":"否")+" ")]),i.AllowGroupClassFlag?t._e():e("div",[e("strong",[t._v("允許開始日：")]),t._v(t._s(i.AllowGroupClass)+" ")])])]),e("div",{staticClass:"detailRowRight"},[e("strong",[t._v("查看：")]),e("BtnNormal",{attrs:{text:"方案"}}),e("BtnNormal",{attrs:{text:"教練課程"}}),e("BtnNormal",{attrs:{text:"會員資料"}})],1)])]}}])}),e("div",[e("PaginationComponent",{attrs:{currentPage:t.currentPage,totalPage:t.totalPage},on:{searchPage:t.searchPage}})],1)],1)},ue=[],he=(i(7588),function(){var t=this,e=t._self._c;return e("div",{staticClass:"tableContainer"},[e("table",[e("thead",[e("tr",[t._l(t.columns,(function(i){return e("th",{key:i.key},[t._v(" "+t._s(i.label)+" ")])})),t.operationFlag?e("th",[t._v("操作")]):t._e()],2)]),e("tbody",[t._l(t.rows,(function(i,a){return[e("tr",{key:"main-"+a,on:{click:function(e){return t.toggleDetail(a)}}},[t._l(t.columns,(function(a){return e("td",{key:a.key},[t._v(" "+t._s(i[a.key])+" ")])})),t.operationFlag?e("td",{staticClass:"editBtnContainer"},[t.editBtnFlag?e("SvgEdit",{attrs:{size:"28"},on:{click:function(e){return e.stopPropagation(),t.$emit("goEdit",i)}}}):t._e(),t.deleteBtnFlag?e("SvgDelete",{attrs:{size:"32"},on:{click:function(t){t.stopPropagation()}}}):t._e()],1):t._e()],2),t.expandedIndex===a?e("tr",{key:"detail-"+a,staticClass:"detailContainer"},[e("td",{attrs:{colspan:t.columns.length+1}},[t._t("detail",null,{row:i})],2)]):t._e()]}))],2)])])}),pe=[],me=function(){var t=this,e=t._self._c;return e("div",{staticClass:"svgEditContainer",on:{click:function(e){return t.$emit("click",e)}}},[e("svg",{staticClass:"btn btnEdit",attrs:{width:t.size,height:t.size,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M10.56 11.87C9.81832 11.87 9.09329 11.6501 8.47661 11.238C7.85993 10.826 7.37928 10.2403 7.09545 9.55506C6.81162 8.86984 6.73736 8.11584 6.88205 7.38841C7.02675 6.66098 7.3839 5.99279 7.90835 5.46835C8.43279 4.9439 9.10098 4.58675 9.82841 4.44205C10.5558 4.29736 11.3098 4.37162 11.9951 4.65545C12.6803 4.93928 13.266 5.41992 13.678 6.03661C14.0901 6.65329 14.31 7.37832 14.31 8.12C14.3074 9.11375 13.9114 10.066 13.2087 10.7687C12.506 11.4714 11.5537 11.8674 10.56 11.87ZM10.56 5.87C10.115 5.87 9.67998 6.00196 9.30996 6.24919C8.93995 6.49642 8.65157 6.84783 8.48127 7.25896C8.31097 7.67009 8.26641 8.12249 8.35323 8.55895C8.44005 8.99541 8.65434 9.39632 8.96901 9.71099C9.28368 10.0257 9.68459 10.2399 10.121 10.3268C10.5575 10.4136 11.0099 10.369 11.421 10.1987C11.8322 10.0284 12.1836 9.74004 12.4308 9.37003C12.678 9.00002 12.81 8.565 12.81 8.12C12.81 7.52326 12.5729 6.95096 12.151 6.52901C11.729 6.10705 11.1567 5.87 10.56 5.87ZM3.56 18.87C3.36109 18.87 3.17032 18.791 3.02967 18.6503C2.88902 18.5097 2.81 18.3189 2.81 18.12C2.81 13.37 8.24 13.37 10.56 13.37C11.28 13.37 11.92 13.37 12.5 13.44C12.6973 13.4553 12.8805 13.548 13.0098 13.6979C13.139 13.8477 13.2038 14.0426 13.19 14.24C13.1722 14.4381 13.0773 14.6214 12.9259 14.7504C12.7744 14.8794 12.5785 14.9439 12.38 14.93C11.84 14.93 11.24 14.87 10.56 14.87C5.38 14.87 4.31 16.17 4.31 18.12C4.31134 18.2189 4.29286 18.317 4.25565 18.4086C4.21843 18.5002 4.16324 18.5834 4.09333 18.6533C4.02341 18.7232 3.9402 18.7784 3.84859 18.8156C3.75699 18.8529 3.65886 18.8713 3.56 18.87ZM12.67 19.63C12.4712 19.6298 12.2805 19.5507 12.14 19.41C12.061 19.3347 12.0002 19.2425 11.9621 19.1403C11.924 19.0381 11.9096 18.9286 11.92 18.82L12.08 16.9C12.0924 16.7235 12.1667 16.557 12.29 16.43L17.81 10.91C18.1908 10.5572 18.6908 10.3612 19.21 10.3612C19.7292 10.3612 20.2292 10.5572 20.61 10.91C20.7978 11.0992 20.9458 11.3241 21.0454 11.5714C21.145 11.8187 21.1942 12.0834 21.19 12.35C21.1939 12.5957 21.1491 12.8398 21.0581 13.068C20.9671 13.2963 20.8318 13.5043 20.66 13.68L15.14 19.2C15.0176 19.3255 14.8546 19.4035 14.68 19.42L12.74 19.6L12.67 19.63ZM13.55 17.29L13.49 18.05L14.27 17.98L19.6 12.65C19.6621 12.5741 19.6941 12.478 19.69 12.38C19.6888 12.2409 19.6393 12.1066 19.55 12C19.4517 11.9269 19.3325 11.8875 19.21 11.8875C19.0875 11.8875 18.9683 11.9269 18.87 12L13.55 17.29Z",fill:"black"}})])])},Ce=[],fe={name:"SvgEdit",props:{size:{Number:Number,default:24}}},ge=fe,ve=(0,c.A)(ge,me,Ce,!1,null,"cdec5cee",null),xe=ve.exports,be={name:"TableNormal",components:{SvgEdit:xe,SvgDelete:R},props:{columns:{type:Array,required:!0},rows:{type:Array,required:!0},expandable:{type:Boolean,default:!1},editBtnFlag:{type:Boolean,default:!1},deleteBtnFlag:{type:Boolean,default:!1},resetDetailIndexFlag:Boolean},data(){return{expandedIndex:null}},methods:{toggleDetail(t){this.expandable&&(this.expandedIndex=this.expandedIndex===t?null:t)},onEdit(t){console.log(t)}},computed:{operationFlag(){return this.editBtnFlag||this.deleteBtnFlag}},watch:{resetDetailIndexFlag(){this.expandedIndex=null}}},we=be,Se=(0,c.A)(we,he,pe,!1,null,"562a5b96",null),ye=Se.exports,Be={name:"HealthopeMember",components:{TitleCard:Z,TableNormal:ye,SelectInput:pt,BtnNormal:P,SortSelector:K,RecordSelector:et,StatusSelector:rt,PaginationComponent:yt,SvgReset:k},props:{text:String},data(){return{hintText:"",searchName:"",searchPhone:"",selectStatus:"",selectSortOrder:"ascending",selectSortOption:"",recordPerPage:"8",currentPage:1,totalPage:1,searchingPage:1,columns:[{label:"姓名",key:"Name"},{label:"手機",key:"Phone"},{label:"會籍到期日",key:"MembershipExpiry"},{label:"狀態",key:"Status"}],memberList:[],resetDetailIndexFlag:!1}},methods:{goEditMember(t){t.MemberId<1||this.$router.push({path:"/member/edit",query:{id:t.MemberId}})},selectMemberByStatus(){this.searchingPage=1,this.getMemberData()},selectMemberByPhone(){if(this.searchingPage=1,this.searchPhone=this.searchPhone.trim(),""===this.searchPhone)return this.$notificationBox.notificationBoxFlag=!0,this.$notificationBox.notificationBoxTitle="搜尋不得為空",void(this.$notificationBox.notificationBoxErrorCode=0);this.getMemberData()},selectMemberByName(){if(this.searchingPage=1,this.searchName=this.searchName.trim(),""===this.searchName)return this.$notificationBox.notificationBoxFlag=!0,this.$notificationBox.notificationBoxTitle="搜尋不得為空",void(this.$notificationBox.notificationBoxErrorCode=0);this.getMemberData()},searchPage(t){this.searchingPage=t,this.getMemberData()},async getMemberData(){if(isNaN(this.searchPhone))return this.searchPhone="",this.$notificationBox.notificationBoxFlag=!0,this.$notificationBox.notificationBoxTitle="輸入長度需為 3 位數字",void(this.$notificationBox.notificationBoxErrorCode=0);if(3!==this.searchPhone.length&&""!==this.searchPhone)return this.searchPhone="",this.$notificationBox.notificationBoxFlag=!0,this.$notificationBox.notificationBoxTitle="輸入長度需為 3 位數字",void(this.$notificationBox.notificationBoxErrorCode=0);if(this.searchName.length>50)return this.searchName="",this.$notificationBox.notificationBoxFlag=!0,this.$notificationBox.notificationBoxTitle="輸入長度不得超過 50 位數",void(this.$notificationBox.notificationBoxErrorCode=0);if("true"!==this.selectStatus&&"false"!==this.selectStatus&&""!==this.selectStatus)return;if("ascending"!==this.selectSortOrder&&"descending"!==this.selectSortOrder)return;if("name"!==this.selectSortOption&&"membershipExpiry"!==this.selectSortOption&&"status"!==this.selectSortOption&&""!==this.selectSortOption)return;if("8"!==this.recordPerPage&&"12"!==this.recordPerPage&&"16"!==this.recordPerPage)return;if(this.searchingPage<1)return;let t={Status:this.selectStatus||null,SortOrder:this.selectSortOrder,SortOption:this.selectSortOption||null,RecordPerPage:this.recordPerPage,SearchName:this.searchName||null,SearchPhone:this.searchPhone||null,Page:this.searchingPage};try{const e=await this.$axios.post("/api/Member/GetMember",t);if(e.data.ErrorCode===this.$errorCodeDefine.Success){this.currentPage=this.searchingPage,this.resetDetailIndexFlag=!this.resetDetailIndexFlag;const t=new Date,i=new Date(t.getFullYear(),t.getMonth(),t.getDate());this.memberList=[],e.data.ApiDataObject.MemberList.forEach((t=>{!0===t.Status?t.Status="啟用中":t.Status="停用",t.Phone="0"+t.Phone,t.MembershipExpiry=t.MembershipExpiry.substring(0,10),t.AllowGroupClass=t.AllowGroupClass.substring(0,10);const e=new Date(t.MembershipExpiry),a=new Date(e.getFullYear(),e.getMonth(),e.getDate());a<i&&(t.MembershipExpiry="無會籍");const n=new Date(t.AllowGroupClass),o=new Date(n.getFullYear(),n.getMonth(),n.getDate());t.AllowGroupClassFlag=!(o>i),this.memberList.push(t)})),this.totalPage=e.data.ApiDataObject.TotalPage}else this.unwatchFlag=this.$watch("notificationBoxConfirmFlag",(t=>{if(t){let t=null;this.$emit("afterConfirmEvent",t),this.unwatchFlag(),this.unwatchFlag=null}})),this.$notificationBox.notificationBoxFlag=!0,this.$notificationBox.notificationBoxTitle="發生錯誤!",this.$notificationBox.notificationBoxErrorCode=e.data.ErrorCode}catch(e){console.error("取得管理者列表時發生錯誤",e)}},resetSearchingRecord(){this.selectStatus="",this.selectSortOrder="ascending",this.selectSortOption="",this.recordPerPage="8",this.searchPhone="",this.searchName="",this.searchingPage=1,this.getMemberData()}},created(){this.getMemberData()}},Pe=Be,_e=(0,c.A)(Pe,de,ue,!1,null,"a20df2f0",null),Ae=_e.exports,$e=function(){var t=this,e=t._self._c;return e("div",[e("TitleCard",{attrs:{text:"會員清單"}}),e("SubTitleCard",{attrs:{text:"修改會員"}}),e("div",{staticClass:"memberCardContainer"},[e("EditTitleCard",{attrs:{title:"會員",content:t.member.Name}})],1),e("div",{staticClass:"editInputContainer"},[e("div",{staticClass:"editInputTop"},[e("EditStatusInput",{model:{value:t.selectStatus,callback:function(e){t.selectStatus=e},expression:"selectStatus"}})],1),e("div",{staticClass:"editInputBotton"},[e("InputSpan",{attrs:{labelText:"手機號碼"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1)]),e("div",{staticClass:"hintContainer"},[t.addFail?e("span",{staticClass:"hintSpan"},[t._v(t._s(this.hintText))]):t._e()]),e("div",{staticClass:"btnEditContainer"},[e("BtnConfirm",{attrs:{text:"確認修改"},on:{click:function(e){return t.editMember()}}})],1)],1)},Fe=[],Ie=function(){var t=this,e=t._self._c;return e("div",{staticClass:"card"},[e("div",{staticClass:"title"},[t._v(t._s(t.title))]),e("div",{staticClass:"content"},[e("div",{staticClass:"name"},[t._v(" "+t._s(t.content)+" ")])])])},ke=[],Te={name:"EditTitleCard",props:{content:{Text:Text,default:""},title:{Text:Text,default:""}}},Ee=Te,Me=(0,c.A)(Ee,Ie,ke,!1,null,"60ff0279",null),Ne=Me.exports,Oe={name:"HealthopeEditMember",components:{TitleCard:Z,SubTitleCard:Nt,BtnConfirm:Wt,EditStatusInput:oe,EditTitleCard:Ne,InputSpan:Vt},props:{notificationBoxConfirmFlag:Boolean},data(){return{addFail:!1,phone:"0987654321",selectStatus:"true",member:{MemberId:0,Name:"無",Status:!0,Phone:987654321,UpdateTime:""}}},methods:{async editMember(){try{let t=this.member.Status?"true":"false",e=!1,i={MemberId:this.member.MemberId,UpdateTime:this.member.UpdateTime};if(this.selectStatus!==t){if("true"!==this.selectStatus&&"false"!==this.selectStatus)return;i.Status=this.selectStatus,e=!0}else i.Status=null;let a=Number(this.phone),n=/^[9]\d{8}$/;if(Number.isNaN(a)||!n.test(a))return;if(a!==this.member.Phone?(i.Phone=a,e=!0):i.Phone=null,!e)return;const o=await this.$axios.post("/api/Member/EditMember",i);o.data.ErrorCode===this.$errorCodeDefine.Success?this.$router.push("/member"):(this.unwatchFlag=this.$watch("notificationBoxConfirmFlag",(t=>{if(t){let t=null;this.$emit("afterConfirmEvent",t),this.unwatchFlag(),this.unwatchFlag=null}})),this.$notificationBox.notificationBoxFlag=!0,this.$notificationBox.notificationBoxTitle="發生錯誤!",this.$notificationBox.notificationBoxErrorCode=o.data.ErrorCode)}catch(t){console.error("取得特定管理者時發生錯誤",t)}},async getMemberEditDataById(t){try{let e={MemberId:t};const i=await this.$axios.post("/api/Member/GetMemberEditDataById",e);i.data.ErrorCode===this.$errorCodeDefine.Success?(this.member=i.data.ApiDataObject,this.member.MemberId=t,this.selectStatus=this.member.Status?"true":"false",this.phone="0"+this.member.Phone):(this.unwatchFlag=this.$watch("notificationBoxConfirmFlag",(t=>{if(t){let t="/member";this.$emit("afterConfirmEvent",t),this.unwatchFlag(),this.unwatchFlag=null}})),this.$notificationBox.notificationBoxFlag=!0,this.$notificationBox.notificationBoxTitle="發生錯誤!",this.$notificationBox.notificationBoxErrorCode=i.data.ErrorCode)}catch(e){console.error("取得特定管理者時發生錯誤",e)}}},created(){this.$route.query.id?this.getMemberEditDataById(this.$route.query.id):this.$router.push("/member")}},Re=Oe,Le=(0,c.A)(Re,$e,Fe,!1,null,"08c655cc",null),De=Le.exports,He=function(){var t=this,e=t._self._c;return e("div",[e("SubTitleCard",{attrs:{text:"修改密碼"}}),e("div",{staticClass:"inputBox"},[e("div",{staticClass:"inputContainer"},[e("InputSpan",{staticClass:"inputSpan",attrs:{labelText:"請輸入舊密碼"},on:{enter:t.editSelfPwd},model:{value:t.oldPwd,callback:function(e){t.oldPwd=e},expression:"oldPwd"}}),e("InputSpan",{staticClass:"inputSpan",attrs:{labelText:"請輸入新密碼",inputType:"password"},on:{enter:t.editSelfPwd},model:{value:t.newPwd,callback:function(e){t.newPwd=e},expression:"newPwd"}}),e("InputSpan",{staticClass:"inputSpan",attrs:{labelText:"請再輸入一次新密碼",inputType:"password"},on:{enter:t.editSelfPwd},model:{value:t.newAgainPwd,callback:function(e){t.newAgainPwd=e},expression:"newAgainPwd"}})],1)]),e("div",{staticClass:"hintContainer"},[t.editFail?e("span",{staticClass:"hintSpan"},[t._v(t._s(this.hintText))]):t._e()]),e("div",{staticClass:"btnAddContainer"},[e("BtnConfirm",{attrs:{text:"確認"},on:{click:t.editSelfPwd}})],1)],1)},Ve=[],qe={name:"HealthopeEditSelfPwd",components:{SubTitleCard:Nt,InputSpan:Vt,BtnConfirm:Wt},props:{notificationBoxConfirmFlag:Boolean},data(){return{hintText:"",oldPwd:"",newPwd:"",newAgainPwd:"",editFail:!1}},methods:{async editSelfPwd(){const t=/^(?=.*[a-zA-Z])(?=.*\d)[a-zA-Z\d]{8,20}$/;if(!t.test(this.oldPwd)||!t.test(this.newPwd))return this.hintText="請輸入 8~20 位英文數字",void(this.editFail=!0);if(this.newPwd!==this.newAgainPwd)return this.hintText="兩次密碼輸入不一致",void(this.editFail=!0);if(this.oldPwd===this.newPwd)return this.hintText="新舊密碼不可相同",void(this.editFail=!0);try{const t={OldPwd:this.oldPwd,NewPwd:this.newPwd},e=await this.$axios.post("/api/AccountAccess/EditSelfPwd",t);if(e.data.ErrorCode===this.$errorCodeDefine.Success)return this.editFail=!1,void this.$router.go(0);this.unwatchFlag=this.$watch("notificationBoxConfirmFlag",(t=>{if(t){let t=null;this.$emit("afterConfirmEvent",t),this.unwatchFlag(),this.unwatchFlag=null}})),this.$notificationBox.notificationBoxFlag=!0,this.$notificationBox.notificationBoxTitle="發生錯誤!",this.$notificationBox.notificationBoxErrorCode=e.data.ErrorCode}catch(e){console.error("修改密碼時發生錯誤",e)}}}},Ze=qe,Ue=(0,c.A)(Ze,He,Ve,!1,null,"01486d33",null),je=Ue.exports,ze=i(4373);const We=ze.A.create({});We.interceptors.request.use((t=>(console.log("post "),t.data&&console.log(JSON.stringify(t.data)),t)),(t=>(console.error("Request error:",t),Promise.reject(t)))),We.interceptors.response.use((t=>(console.log("response",JSON.stringify(t.data)),t)),(t=>(console.error("Response error:",t),Promise.reject(t)))),a.Ay.prototype.$axios=We;var Ge=We;const Ke=[{path:"/login",name:"HealthopeLogin",component:g,meta:{requireAuth:null}},{path:"/",name:"HealthopeHome",component:u,meta:{requireAuth:"login"}},{path:"/editSelfPwd",name:"HealthopeEditSelfPwd",component:je,meta:{requireAuth:"login"}},{path:"/admin",name:"HealthopeAdmin",component:At,meta:{requireAuth:[{adminPermission:ft.EditAdmin}]}},{path:"/admin/add",name:"HealthopeAddAdmin",component:Jt,meta:{requireAuth:[{adminPermission:ft.EditAdmin}]}},{path:"/admin/edit",name:"HealthopeEditAdmin",component:ce,meta:{requireAuth:[{adminPermission:ft.EditAdmin}]}},{path:"/member",name:"HealthopeMember",component:Ae,meta:{requireAuth:[{adminPermission:ft.EditMember}]}},{path:"/member/edit",name:"HealthopeEditMember",component:De,meta:{requireAuth:[{adminPermission:ft.EditMember}]}},{path:"*",name:"HealthopeDefault",component:u,meta:{requireAuth:"login"}}],Ye=new n.Ay({routes:Ke,mode:"history"});Ye.beforeEach((async(t,e,i)=>{const n=t.meta.requireAuth;let o;o="login"===n?null:n;const s=await Ge.post("/api/AccountAccess/HavePermission",o);return s.data.ErrorCode===mt.UserNotLogin?"HealthopeLogin"===t.name?(a.Ay.prototype.$loginFlag=!1,i()):(a.Ay.prototype.$loginFlag=!1,i({name:"HealthopeLogin"})):(a.Ay.prototype.$loginFlag=!0,"HealthopeLogin"===t.name&&s.data.ErrorCode!==mt.UserNotLogin?(a.Ay.prototype.$loginFlag=!0,i({name:"HealthopeHome"})):s.data.ErrorCode===mt.Success?(a.Ay.prototype.$loginFlag=!0,i()):i({name:"HealthopeHome"}))}));var Je=Ye,Qe=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app"},[this.$notificationBox.notificationBoxFlag?e("NotificationBox",{staticClass:"notificationBox",on:{notificationBoxConfirm:t.notificationBoxConfirm}}):t._e(),this.$loginFlag?e("AppSidebar",{staticClass:"sidebar",attrs:{permissionList:t.permissionList,notificationBoxConfirmFlag:t.notificationBoxConfirmFlag},on:{afterConfirmEvent:t.afterConfirmEvent,refreshPage:t.refreshRouterViewComponent}}):t._e(),e("AppHeader",{attrs:{title:t.title,notificationBoxConfirmFlag:t.notificationBoxConfirmFlag},on:{afterConfirmEvent:t.afterConfirmEvent}}),e("router-view",{key:t.routerViewKey,class:{contentContainer:this.$loginFlag},attrs:{title:t.title,notificationBoxConfirmFlag:t.notificationBoxConfirmFlag},on:{sendPermission:t.setPermission,refreshPage:t.refreshRouterViewComponent,afterConfirmEvent:t.afterConfirmEvent}}),e("AppFooter")],1)},Xe=[],ti=function(){var t=this,e=t._self._c;return e("footer",{class:{loginFooter:!t.$loginFlag}},[e("p",[t._v("Healthope © "+t._s(t.year))])])},ei=[],ii={name:"AppFooter",data(){return{year:2025}},created(){this.year=(new Date).getFullYear()}},ai=ii,ni=(0,c.A)(ai,ti,ei,!1,null,"5a4a06c3",null),oi=ni.exports,si=function(){var t=this,e=t._self._c;return e("div",{staticClass:"notificationBox",attrs:{id:""}},[e("div",{staticClass:"notificationBoxContainer"},[e("span",{staticClass:"close",on:{click:t.notificationCancel}},[t._v("×")]),e("div",{staticClass:"notificationBoxTitle"},[e("h2",[t._v(t._s(this.$notificationBox.notificationBoxTitle))])]),e("div",{staticClass:"notificationBoxContent"},[e("p",[t._v(" "+t._s(this.$errorCodeToMessage(this.$notificationBox.notificationBoxErrorCode))+" ")])]),e("div",{staticClass:"notificationBoxBtn"},[e("button",{staticClass:"btnConfirm",on:{click:t.notificationBoxConfirm}},[t._v("OK")]),this.$notificationBox.notificationBoxCancelFlag?e("button",{staticClass:"btnCancel",on:{click:t.notificationCancel}},[t._v(" Cancel ")]):t._e()])])])},ri=[],li={name:"NotificationBox",methods:{notificationBoxConfirm(){this.$notificationBox.notificationBoxFlag=!1,this.$notificationBox.notificationBoxCancelFlag=!1,this.$emit("notificationBoxConfirm")},notificationCancel(){this.$notificationBox.notificationBoxFlag=!1,this.$notificationBox.notificationBoxCancelFlag=!1}},created(){}},ci=li,di=(0,c.A)(ci,si,ri,!1,null,"66cb84ac",null),ui=di.exports,hi=function(){var t=this,e=t._self._c;return e("div",[e("header",[e("link",{attrs:{rel:"icon",href:"@/assets/logo/HealthopeLogo-circle-removebg-preview"}}),e("div",{staticClass:"headerContainer"},[e("div",{staticClass:"logoContainer"},[e("router-link",{attrs:{to:"/"}},[e("img",{staticClass:"btn",attrs:{src:i(5660)}})])],1),t.loginPage?t._e():e("div",{staticClass:"dropDownImg"},[e("svg",{staticClass:"btn",attrs:{width:"30",height:"30",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},on:{click:t.openPopUpWindow}},[e("path",{attrs:{d:"M2 3.5C2 3.36739 2.05268 3.24021 2.14645 3.14645C2.24021 3.05268 2.36739 3 2.5 3H10.5C10.6326 3 10.7598 3.05268 10.8536 3.14645C10.9473 3.24021 11 3.36739 11 3.5C11 3.63261 10.9473 3.75979 10.8536 3.85355C10.7598 3.94732 10.6326 4 10.5 4H2.5C2.36739 4 2.24021 3.94732 2.14645 3.85355C2.05268 3.75979 2 3.63261 2 3.5ZM2 11.5C2 11.3674 2.05268 11.2402 2.14645 11.1464C2.24021 11.0527 2.36739 11 2.5 11H9.5C9.63261 11 9.75979 11.0527 9.85355 11.1464C9.94732 11.2402 10 11.3674 10 11.5C10 11.6326 9.94732 11.7598 9.85355 11.8536C9.75979 11.9473 9.63261 12 9.5 12H2.5C2.36739 12 2.24021 11.9473 2.14645 11.8536C2.05268 11.7598 2 11.6326 2 11.5ZM2.5 7C2.36739 7 2.24021 7.05268 2.14645 7.14645C2.05268 7.24021 2 7.36739 2 7.5C2 7.63261 2.05268 7.75979 2.14645 7.85355C2.24021 7.94732 2.36739 8 2.5 8H13.5C13.6326 8 13.7598 7.94732 13.8536 7.85355C13.9473 7.75979 14 7.63261 14 7.5C14 7.36739 13.9473 7.24021 13.8536 7.14645C13.7598 7.05268 13.6326 7 13.5 7H2.5Z",fill:"#757575"}})])])])]),t.popUpFlag?e("div",{staticClass:"popUpWindowContainer"},[e("HeaderPopUp",{ref:"popUpWindow",staticClass:"popUpWindow",attrs:{notificationBoxConfirmFlag:this.notificationBoxConfirmFlag},on:{closePopUpWindow:function(e){return t.closePopUpWindow()},afterConfirmEvent:t.afterConfirmEvent}})],1):t._e()])},pi=[],mi=function(){var t=this,e=t._self._c;return e("div",{staticClass:"card"},[e("div",{staticClass:"closeBtnContainer"},[e("svg",{staticClass:"closeBtn",attrs:{width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},on:{click:function(e){return t.$emit("closePopUpWindow")}}},[e("path",{attrs:{d:"M6.4 19L5 17.6L10.6 12L5 6.4L6.4 5L12 10.6L17.6 5L19 6.4L13.4 12L19 17.6L17.6 19L12 13.4L6.4 19Z",fill:"#757575"}})])]),e("h3",[t._v("管理員，你好！")]),e("div",{staticClass:"btnContainer"},[e("button",[e("span",{staticClass:"btnTop",on:{click:t.goEditSelfPwd}},[t._v("修改密碼")])])]),e("div",{staticClass:"btnContainer"},[e("button",[e("span",{staticClass:"btnTop",on:{click:function(e){return t.logout()}}},[t._v("登出")])])])])},Ci=[],fi={name:"HeaderPopUp",props:{notificationBoxConfirmFlag:Boolean},methods:{async logout(){const t=await this.$axios.post("/api/AccountAccess/AdminLogout");if(t.data.ErrorCode===this.$errorCodeDefine.Success)return this.$emit("closePopUpWindow"),void this.$router.push("/login");this.unwatchFlag=this.$watch("notificationBoxConfirmFlag",(t=>{if(t){let t="/";this.$emit("afterConfirmEvent",t),this.unwatchFlag(),this.unwatchFlag=null}})),this.$notificationBox.notificationBoxFlag=!0,this.$notificationBox.notificationBoxTitle="發生錯誤!",this.$notificationBox.notificationBoxErrorCode=t.data.ErrorCode},goEditSelfPwd(){this.$emit("closePopUpWindow"),this.$router.push("/editSelfPwd")}}},gi=fi,vi=(0,c.A)(gi,mi,Ci,!1,null,"690e1fa4",null),xi=vi.exports,bi={name:"AppHeader",components:{HeaderPopUp:xi},props:{notificationBoxConfirmFlag:Boolean,title:String},data(){return{popUpFlag:!1}},computed:{loginPage(){return"/login"==this.$route.path}},methods:{openPopUpWindow(){1!=this.popUpFlag?(this.popUpFlag=!0,this.$nextTick((()=>{setTimeout((()=>{document.addEventListener("click",this.clickOutside)}),0)}))):this.popUpFlag},closePopUpWindow(){0!=this.popUpFlag&&(this.popUpFlag=!1,document.removeEventListener("click",this.clickOutside))},clickOutside(t){const e=this.$refs.popUpWindow?.$el;e&&!e.contains(t.target)&&this.closePopUpWindow()},afterConfirmEvent(t){this.$emit("afterConfirmEvent",t)}}},wi=bi,Si=(0,c.A)(wi,hi,pi,!1,null,"0489b4ee",null),yi=Si.exports,Bi=function(){var t=this,e=t._self._c;return e("div",{staticClass:"sidebarCard"},[t.permissionMap.EditAdmin?e("div",{staticClass:"sidebarRow"},[e("button",{staticClass:"btnSidebar",on:{click:function(e){return t.redirect("/admin")}}},[e("svg",{staticClass:"sidebarIcon",attrs:{width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 2C17.523 2 22 6.477 22 12C22.0034 14.3079 21.2053 16.5453 19.742 18.33L19.762 18.352L19.63 18.464C18.6921 19.5731 17.5235 20.4642 16.2056 21.0749C14.8878 21.6856 13.4525 22.0014 12 22C9.05 22 6.4 20.723 4.57 18.693L4.37 18.463L4.238 18.353L4.258 18.329C2.79491 16.5446 1.99679 14.3075 2 12C2 6.477 6.477 2 12 2ZM12 17C10.14 17 8.459 17.592 7.207 18.406C8.58959 19.4429 10.2718 20.0024 12 20C13.7282 20.0024 15.4104 19.4429 16.793 18.406C15.3623 17.4894 13.6991 17.0015 12 17ZM12 4C10.4945 3.99996 9.01959 4.42471 7.74472 5.22545C6.46986 6.02619 5.44681 7.1704 4.79316 8.52657C4.13952 9.88274 3.88181 11.3958 4.04965 12.8919C4.2175 14.388 4.80409 15.8064 5.742 16.984C7.363 15.821 9.575 15 12 15C14.425 15 16.637 15.821 18.258 16.984C19.1959 15.8064 19.7825 14.388 19.9504 12.8919C20.1182 11.3958 19.8605 9.88274 19.2068 8.52657C18.5532 7.1704 17.5301 6.02619 16.2553 5.22545C14.9804 4.42471 13.5055 3.99996 12 4ZM12 6C13.0609 6 14.0783 6.42143 14.8284 7.17157C15.5786 7.92172 16 8.93913 16 10C16 11.0609 15.5786 12.0783 14.8284 12.8284C14.0783 13.5786 13.0609 14 12 14C10.9391 14 9.92172 13.5786 9.17157 12.8284C8.42143 12.0783 8 11.0609 8 10C8 8.93913 8.42143 7.92172 9.17157 7.17157C9.92172 6.42143 10.9391 6 12 6ZM12 8C11.4696 8 10.9609 8.21071 10.5858 8.58579C10.2107 8.96086 10 9.46957 10 10C10 10.5304 10.2107 11.0391 10.5858 11.4142C10.9609 11.7893 11.4696 12 12 12C12.5304 12 13.0391 11.7893 13.4142 11.4142C13.7893 11.0391 14 10.5304 14 10C14 9.46957 13.7893 8.96086 13.4142 8.58579C13.0391 8.21071 12.5304 8 12 8Z",fill:"#757575"}})]),e("b",[t._v("管理員")])])]):t._e(),t.permissionMap.EditMember?e("div",{staticClass:"sidebarRow"},[e("button",{staticClass:"btnSidebar",on:{click:function(e){return t.redirect("/member")}}},[e("svg",{staticClass:"sidebarIcon",attrs:{width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 2C17.523 2 22 6.477 22 12C22.0034 14.3079 21.2053 16.5453 19.742 18.33L19.762 18.352L19.63 18.464C18.6921 19.5731 17.5235 20.4642 16.2056 21.0749C14.8878 21.6856 13.4525 22.0014 12 22C9.05 22 6.4 20.723 4.57 18.693L4.37 18.463L4.238 18.353L4.258 18.329C2.79491 16.5446 1.99679 14.3075 2 12C2 6.477 6.477 2 12 2ZM12 17C10.14 17 8.459 17.592 7.207 18.406C8.58959 19.4429 10.2718 20.0024 12 20C13.7282 20.0024 15.4104 19.4429 16.793 18.406C15.3623 17.4894 13.6991 17.0015 12 17ZM12 4C10.4945 3.99996 9.01959 4.42471 7.74472 5.22545C6.46986 6.02619 5.44681 7.1704 4.79316 8.52657C4.13952 9.88274 3.88181 11.3958 4.04965 12.8919C4.2175 14.388 4.80409 15.8064 5.742 16.984C7.363 15.821 9.575 15 12 15C14.425 15 16.637 15.821 18.258 16.984C19.1959 15.8064 19.7825 14.388 19.9504 12.8919C20.1182 11.3958 19.8605 9.88274 19.2068 8.52657C18.5532 7.1704 17.5301 6.02619 16.2553 5.22545C14.9804 4.42471 13.5055 3.99996 12 4ZM12 6C13.0609 6 14.0783 6.42143 14.8284 7.17157C15.5786 7.92172 16 8.93913 16 10C16 11.0609 15.5786 12.0783 14.8284 12.8284C14.0783 13.5786 13.0609 14 12 14C10.9391 14 9.92172 13.5786 9.17157 12.8284C8.42143 12.0783 8 11.0609 8 10C8 8.93913 8.42143 7.92172 9.17157 7.17157C9.92172 6.42143 10.9391 6 12 6ZM12 8C11.4696 8 10.9609 8.21071 10.5858 8.58579C10.2107 8.96086 10 9.46957 10 10C10 10.5304 10.2107 11.0391 10.5858 11.4142C10.9609 11.7893 11.4696 12 12 12C12.5304 12 13.0391 11.7893 13.4142 11.4142C13.7893 11.0391 14 10.5304 14 10C14 9.46957 13.7893 8.96086 13.4142 8.58579C13.0391 8.21071 12.5304 8 12 8Z",fill:"#757575"}})]),e("b",[t._v("會員")])])]):t._e(),e("div",{staticClass:"sidebarRow"},[e("button",{staticClass:"btnSidebar"},[e("svg",{staticClass:"sidebarIcon",attrs:{width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 2C17.523 2 22 6.477 22 12C22.0034 14.3079 21.2053 16.5453 19.742 18.33L19.762 18.352L19.63 18.464C18.6921 19.5731 17.5235 20.4642 16.2056 21.0749C14.8878 21.6856 13.4525 22.0014 12 22C9.05 22 6.4 20.723 4.57 18.693L4.37 18.463L4.238 18.353L4.258 18.329C2.79491 16.5446 1.99679 14.3075 2 12C2 6.477 6.477 2 12 2ZM12 17C10.14 17 8.459 17.592 7.207 18.406C8.58959 19.4429 10.2718 20.0024 12 20C13.7282 20.0024 15.4104 19.4429 16.793 18.406C15.3623 17.4894 13.6991 17.0015 12 17ZM12 4C10.4945 3.99996 9.01959 4.42471 7.74472 5.22545C6.46986 6.02619 5.44681 7.1704 4.79316 8.52657C4.13952 9.88274 3.88181 11.3958 4.04965 12.8919C4.2175 14.388 4.80409 15.8064 5.742 16.984C7.363 15.821 9.575 15 12 15C14.425 15 16.637 15.821 18.258 16.984C19.1959 15.8064 19.7825 14.388 19.9504 12.8919C20.1182 11.3958 19.8605 9.88274 19.2068 8.52657C18.5532 7.1704 17.5301 6.02619 16.2553 5.22545C14.9804 4.42471 13.5055 3.99996 12 4ZM12 6C13.0609 6 14.0783 6.42143 14.8284 7.17157C15.5786 7.92172 16 8.93913 16 10C16 11.0609 15.5786 12.0783 14.8284 12.8284C14.0783 13.5786 13.0609 14 12 14C10.9391 14 9.92172 13.5786 9.17157 12.8284C8.42143 12.0783 8 11.0609 8 10C8 8.93913 8.42143 7.92172 9.17157 7.17157C9.92172 6.42143 10.9391 6 12 6ZM12 8C11.4696 8 10.9609 8.21071 10.5858 8.58579C10.2107 8.96086 10 9.46957 10 10C10 10.5304 10.2107 11.0391 10.5858 11.4142C10.9609 11.7893 11.4696 12 12 12C12.5304 12 13.0391 11.7893 13.4142 11.4142C13.7893 11.0391 14 10.5304 14 10C14 9.46957 13.7893 8.96086 13.4142 8.58579C13.0391 8.21071 12.5304 8 12 8Z",fill:"#757575"}})]),e("b",[t._v("教練")])])]),e("div",{staticClass:"sidebarRow"},[e("button",{staticClass:"btnSidebar"},[e("svg",{staticClass:"sidebarIcon",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M4 19V20H22V22H2V2H4V17C7 17 10 15 12.1 11.4C15.1 6.4 18.4 4 22 4V6C19.2 6 16.5 8.1 13.9 12.5C11.3 16.6 7.7 19 4 19Z",fill:"black"}})]),e("b",[t._v("報表")])])])])},Pi=[],_i={name:"AppSidebar",props:{permissionList:[],notificationBoxConfirmFlag:Boolean},data(){return{permissionMap:{EditAdmin:!1,EditMember:!1,None:!0}}},created(){this.initializePermissionMap(this.permissionList),this.setScrollWithWindow()},methods:{redirect(t){this.$route.path===t?this.$emit("refreshPage"):this.$router.push(t)},initializePermissionMap(t){for(let e in this.$adminPermission){const i=this.$adminPermission[e];this.permissionMap[e]=t.includes(i)}},async getPermission(){try{const t=await this.$axios.post("/api/Admin/GetPermission");t.data.ErrorCode===this.$errorCodeDefine.Success?this.initializePermissionMap(t.data.ApiDataObject):(this.unwatchFlag=this.$watch("notificationBoxConfirmFlag",(t=>{t&&(this.$emit("afterConfirmEvent"),this.unwatchFlag(),this.unwatchFlag=null)})),this.$notificationBox.notificationBoxFlag=!0,this.$notificationBox.notificationBoxTitle="發生錯誤!",this.$notificationBox.notificationBoxErrorCode=t.data.ErrorCode)}catch(t){console.error("創建管理者時發生錯誤",t)}},setScrollWithWindow(){window.addEventListener("scroll",(()=>{const t=document.querySelector(".headerContainer"),e=document.querySelector(".sidebarCard"),i=t.getBoundingClientRect().bottom;e.style.top=i<=80?i<=0?0:i+"px":"auto"}))}},mounted(){this.permissionList&&(this.permissionList.length>0||!this.$loginFlag||this.getPermission())}},Ai=_i,$i=(0,c.A)(Ai,Bi,Pi,!1,null,"77bbc210",null),Fi=$i.exports,Ii={name:"App",components:{AppFooter:oi,AppHeader:yi,NotificationBox:ui,AppSidebar:Fi},data(){return{title:"Healthope 健望館後台管理網站",permissionList:[],routerViewKey:0,notificationBoxConfirmFlag:!1}},methods:{setPermission(t){this.permissionList=t},refreshRouterViewComponent(){this.routerViewKey+=1},notificationBoxConfirm(){this.notificationBoxConfirmFlag=!0},afterConfirmEvent(t){this.notificationBoxConfirmFlag=!1,"stop"!==t&&(t?this.$router.push(t):this.refreshRouterViewComponent())}}},ki=Ii,Ti=(0,c.A)(ki,Qe,Xe,!1,null,null,null),Ei=Ti.exports;a.Ay.prototype.$errorCodeDefine=mt,a.Ay.prototype.$errorCodeToMessage=Ct,a.Ay.prototype.$axios=Ge,a.Ay.prototype.$adminPermission=ft,a.Ay.prototype.$loginFlag=!1,a.Ay.prototype.$notificationBox=a.Ay.observable({notificationBoxFlag:!1,notificationBoxTitle:"",notificationBoxErrorCode:0,notificationBoxCancelFlag:!1}),a.Ay.config.productionTip=!1,a.Ay.use(n.Ay),new a.Ay({router:Je,render:t=>t(Ei)}).$mount("#app")}},e={};function i(a){var n=e[a];if(void 0!==n)return n.exports;var o=e[a]={exports:{}};return t[a].call(o.exports,o,o.exports,i),o.exports}i.m=t,function(){var t=[];i.O=function(e,a,n,o){if(!a){var s=1/0;for(d=0;d<t.length;d++){a=t[d][0],n=t[d][1],o=t[d][2];for(var r=!0,l=0;l<a.length;l++)(!1&o||s>=o)&&Object.keys(i.O).every((function(t){return i.O[t](a[l])}))?a.splice(l--,1):(r=!1,o<s&&(s=o));if(r){t.splice(d--,1);var c=n();void 0!==c&&(e=c)}}return e}o=o||0;for(var d=t.length;d>0&&t[d-1][2]>o;d--)t[d]=t[d-1];t[d]=[a,n,o]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var a in e)i.o(e,a)&&!i.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){i.p="/wwwroot/"}(),function(){var t={524:0};i.O.j=function(e){return 0===t[e]};var e=function(e,a){var n,o,s=a[0],r=a[1],l=a[2],c=0;if(s.some((function(e){return 0!==t[e]}))){for(n in r)i.o(r,n)&&(i.m[n]=r[n]);if(l)var d=l(i)}for(e&&e(a);c<s.length;c++)o=s[c],i.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return i.O(d)},a=self["webpackChunkfront"]=self["webpackChunkfront"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=i.O(void 0,[504],(function(){return i(9e3)}));a=i.O(a)})();
//# sourceMappingURL=app.a719c39b.js.map