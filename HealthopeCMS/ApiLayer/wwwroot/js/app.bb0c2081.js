(function(){"use strict";var t={2021:function(t,e,i){var a=i(6848),n=i(6178),o=function(){var t=this;t._self._c;return t._m(0)},s=[function(){var t=this,e=t._self._c;return e("div",[e("h1",{staticClass:"homeTitle"},[t._v("你好，管理者")]),e("h2",{staticClass:"homeTitle"},[t._v("歡迎來到 Healthope 後台管理網站")]),e("div",{staticClass:"imgContainer"},[e("img",{staticClass:"imgHealthopeLogo",attrs:{src:i(6709)}})])])}],r={name:"HealthopeHome",components:{},data(){return{tasks:[]}}},l=r,c=i(1656),d=(0,c.A)(l,o,s,!1,null,"08864e60",null),u=d.exports,p=function(){var t=this,e=t._self._c;return e("div",[t._m(0),e("div",{staticClass:"box"},[e("div",{staticClass:"card"},[t._m(1),e("div",{staticClass:"loginFormContainer"},[e("div",{staticClass:"form"},[e("span",{staticClass:"inputSpan"},[e("label",{staticClass:"label"},[t._v("使用者帳號")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.account,expression:"account"}],domProps:{value:t.account},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login.apply(null,arguments)},input:function(e){e.target.composing||(t.account=e.target.value)}}})]),e("span",{staticClass:"inputSpan"},[e("label",{staticClass:"label"},[t._v("使用者密碼")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.pwd,expression:"pwd"}],attrs:{type:"password"},domProps:{value:t.pwd},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login.apply(null,arguments)},input:function(e){e.target.composing||(t.pwd=e.target.value)}}})]),t.loginFail?e("span",{staticClass:"hintSpan"},[t._v(t._s(this.hintText))]):t._e(),e("button",{staticClass:"btnLogin",on:{click:function(e){return t.login()}}},[t._v("登入")])])])])])])},h=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"loginTitleContainer"},[e("div",[e("h1",[t._v("歡迎使用")]),e("h1",[t._v("Healthope 後台管理網站")])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"loginTextContainer"},[e("h2",[t._v("請輸入帳號密碼")])])}],m=(i(4114),{name:"HealthopeLogin",data(){return{beforeLoginFlag:!0,loginFail:!1,account:"",pwd:"",hintText:""}},methods:{goToLogin(){this.beforeLoginFlag=!this.beforeLoginFlag},async login(){const t=/^(?=.*[a-zA-Z])(?=.*\d)[a-zA-Z\d]{8,20}$/;if(!t.test(this.account)||!t.test(this.pwd))return this.hintText="請輸入 8~20 位英文數字",void(this.loginFail=!0);if(this.account===this.pwd)return this.hintText="帳號密碼請勿一致",void(this.loginFail=!0);try{const t={Account:this.account,Pwd:this.pwd},e=await this.$axios.post("/api/AccountAccess/VerifyAdminLogin",t);if(e.data.ErrorCode===this.$errorCodeDefine.Success)return this.loginFail=!1,this.$emit("sendPermission",e.data.ApiDataObject),void this.$router.push("/");this.loginFail=!0,this.hintText="帳號密碼輸入錯誤"}catch(e){console.error("登入驗證時發生錯誤",e)}}}}),C=m,f=(0,c.A)(C,p,h,!1,null,"97995424",null),v=f.exports,g=(i(8111),i(1701),function(){var t=this,e=t._self._c;return e("div",[e("TitleCard",{attrs:{text:"管理者清單"},on:{refreshPage:function(e){return t.$emit("refreshPage")}}}),e("div",{staticClass:"funtionColumn"},[e("BtnNormal",{attrs:{text:"新增管理者"},on:{click:function(e){return t.redirect("/admin/add")}}}),e("div",{staticClass:"inputGroup"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchAccount,expression:"searchAccount"}],attrs:{type:"text",required:"",autocomplete:"off",placeholder:"Account..."},domProps:{value:t.searchAccount},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.selectAdmin()},input:function(e){e.target.composing||(t.searchAccount=e.target.value)}}}),e("svg",{staticClass:"btnSearch",attrs:{width:"30",height:"30",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},on:{click:function(e){return t.selectAdmin()}}},[e("path",{attrs:{d:"M16.893 16.92L19.973 20M19 11.5C19 13.4891 18.2098 15.3968 16.8033 16.8033C15.3968 18.2098 13.4891 19 11.5 19C9.51088 19 7.60322 18.2098 6.1967 16.8033C4.79018 15.3968 4 13.4891 4 11.5C4 9.51088 4.79018 7.60322 6.1967 6.1967C7.60322 4.79018 9.51088 4 11.5 4C13.4891 4 15.3968 4.79018 16.8033 6.1967C18.2098 7.60322 19 9.51088 19 11.5Z",stroke:"#B4B4B4","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}})])]),e("div",{staticClass:"statusContainer"},[e("label",{staticClass:"labStatus"},[t._v("狀態： ")]),e("label",{staticClass:"labRadioBox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectStatus,expression:"selectStatus"}],attrs:{type:"radio",name:"radioStatus",value:""},domProps:{checked:t._q(t.selectStatus,"")},on:{change:[function(e){t.selectStatus=""},function(e){return t.selectAdmin()}]}}),e("span",{staticClass:"textRadio"},[t._v("無")])]),e("label",{staticClass:"labRadioBox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectStatus,expression:"selectStatus"}],attrs:{type:"radio",name:"radioStatus",value:"true"},domProps:{checked:t._q(t.selectStatus,"true")},on:{change:[function(e){t.selectStatus="true"},function(e){return t.selectAdmin()}]}}),e("span",{staticClass:"textRadio"},[t._v("啟用")])]),e("label",{staticClass:"labRadioBox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectStatus,expression:"selectStatus"}],attrs:{type:"radio",name:"radioStatus",value:"false"},domProps:{checked:t._q(t.selectStatus,"false")},on:{change:[function(e){t.selectStatus="false"},function(e){return t.selectAdmin()}]}}),e("span",{staticClass:"textRadio"},[t._v("停用")])])]),e("div",{staticClass:"sortContainer"},[e("label",{staticClass:"labSort"},[t._v("排序選項：")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectSortOption,expression:"selectSortOption"}],staticClass:"selectSortOrder",on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectSortOption=e.target.multiple?i:i[0]},function(e){return t.getAdminData()}]}},[e("option",{attrs:{value:""}},[t._v("無")]),e("option",{attrs:{value:"account"}},[t._v("帳號")]),e("option",{attrs:{value:"status"}},[t._v("狀態")])]),e("label",{staticClass:"labRadioBox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectSortOrder,expression:"selectSortOrder"}],attrs:{type:"radio",name:"radioSort",value:"ascending"},domProps:{checked:t._q(t.selectSortOrder,"ascending")},on:{change:[function(e){t.selectSortOrder="ascending"},function(e){return t.getAdminData()}]}}),e("span",{staticClass:"textRadio"},[t._v("升序")])]),e("label",{staticClass:"labRadioBox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectSortOrder,expression:"selectSortOrder"}],attrs:{type:"radio",name:"radioSort",value:"descending"},domProps:{checked:t._q(t.selectSortOrder,"descending")},on:{change:[function(e){t.selectSortOrder="descending"},function(e){return t.getAdminData()}]}}),e("span",{staticClass:"textRadio"},[t._v("降序")])])]),e("div",{staticClass:"selectRecordContainer"},[e("label",{staticClass:"labRecord"},[t._v("顯示：")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.recordPerPage,expression:"recordPerPage"}],staticClass:"selectRecord",on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.recordPerPage=e.target.multiple?i:i[0]},function(e){return t.getAdminData()}]}},[e("option",{attrs:{value:"8"}},[t._v("8")]),e("option",{attrs:{value:"12"}},[t._v("12")]),e("option",{attrs:{value:"16"}},[t._v("16")])]),e("label",{},[t._v("筆")])]),e("BtnNormal",{attrs:{text:"差異紀錄"}})],1),e("div",{staticClass:"adminTable"},t._l(t.adminList,(function(i,a){return e("div",{key:a,staticClass:"card",on:{click:function(e){return t.goEditAdmin(i.AdminId)}}},[e("div",{staticClass:"cardContent"},[e("div",{staticClass:"cardImage"},[e("svg",{attrs:{width:"50",height:"50",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M12 4C13.0609 4 14.0783 4.42143 14.8284 5.17157C15.5786 5.92172 16 6.93913 16 8C16 9.06087 15.5786 10.0783 14.8284 10.8284C14.0783 11.5786 13.0609 12 12 12C10.9391 12 9.92172 11.5786 9.17157 10.8284C8.42143 10.0783 8 9.06087 8 8C8 6.93913 8.42143 5.92172 9.17157 5.17157C9.92172 4.42143 10.9391 4 12 4ZM12 14C16.42 14 20 15.79 20 18V20H4V18C4 15.79 7.58 14 12 14Z",fill:"white"}})])]),e("div",{staticClass:"cardTitle"},[e("div",{staticClass:"cardMainTitle"},[e("span",[t._v(t._s(i.Account))])]),e("div",{staticClass:"cardSubTitle"},[e("span",[t._v("狀態："+t._s(i.Status?"啟用":"停用"))])])]),e("div",{staticClass:"cardEndText"},[e("span",[t._v(t._s(t.adminIdentityToText(i.Identity)))])])]),e("div",{on:{click:function(e){return e.stopPropagation(),t.delAdmin(i.AdminId)}}},[e("svg",{staticClass:"btn btnDeleteAdmin",attrs:{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M7.616 20C7.168 20 6.78667 19.8426 6.472 19.528C6.15733 19.2133 6 18.8323 6 18.385V5.99998H5V4.99998H9V4.22998H15V4.99998H19V5.99998H18V18.385C18 18.845 17.846 19.2293 17.538 19.538C17.23 19.8466 16.8453 20.0006 16.384 20H7.616ZM17 5.99998H7V18.385C7 18.5643 7.05767 18.7116 7.173 18.827C7.28833 18.9423 7.436 19 7.616 19H16.385C16.5383 19 16.6793 18.936 16.808 18.808C16.9367 18.68 17.0007 18.5386 17 18.384V5.99998ZM9.808 17H10.808V7.99998H9.808V17ZM13.192 17H14.192V7.99998H13.192V17Z",fill:"#AA7F7F"}})])])])})),0),e("div",[e("PaginationComponent",{attrs:{currentPage:t.currentPage,totalPage:t.totalPage},on:{searchPage:t.searchPage}})],1)],1)}),x=[],w=function(){var t=this,e=t._self._c;return e("button",{staticClass:"btnNormal",on:{click:function(e){return t.$emit("click",e)}}},[t._v(t._s(t.text))])},y=[],b={name:"BtnNormal",props:{text:[String,Number]}},B=b,P=(0,c.A)(B,w,y,!1,null,"63cfeef4",null),A=P.exports,_=function(){var t=this,e=t._self._c;return e("div",{staticClass:"titleCard"},[e("h2",{staticClass:"title",on:{click:function(e){return t.redirect()}}},[t._v(t._s(t.text))])])},S=[],$={name:"TitleCard",props:{text:String},methods:{redirect(){"管理者清單"===this.text&&("/admin"===this.$route.path?this.$emit("refreshPage"):this.$router.push("/admin"))}}},F=$,I=(0,c.A)(F,_,S,!1,null,"659a69f2",null),T=I.exports,k=function(){var t=this,e=t._self._c;return e("div",{staticClass:"paginationContainer"},[e("div",{staticClass:"paginationBtnContainer"},[e("BtnNormal",{staticClass:"btnNormal",attrs:{text:"＜"},on:{click:function(e){return t.searchPage(t.currentPage-1)}}}),e("BtnNormal",{staticClass:"btnNormal",class:{currentPage:t.isCurrentPage("1")},attrs:{text:"1"},on:{click:function(e){return t.searchPage(1)}}}),t._l(t.visibleBtnTextList,(function(i,a){return e("BtnNormal",{key:a,staticClass:"btnNormal",class:{currentPage:t.isCurrentPage(i)},attrs:{text:i},on:{click:function(e){return t.searchPage(i)}}})})),t.totalPage>5?e("BtnNormal",{staticClass:"btnNormal",class:{currentPage:t.isCurrentPage(t.totalPage)},attrs:{text:t.totalPage},on:{click:function(e){return t.searchPage(t.totalPage)}}}):t._e(),e("BtnNormal",{staticClass:"btnNormal",attrs:{text:"＞"},on:{click:function(e){return t.searchPage(t.currentPage+1)}}})],2),e("div",{staticClass:"searchPageContainer"},[e("label",{},[t._v("第")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.txbSearchPage,expression:"txbSearchPage"}],staticClass:"searchPage",domProps:{value:t.txbSearchPage},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchPage(t.txbSearchPage)},input:function(e){e.target.composing||(t.txbSearchPage=e.target.value)}}}),e("label",{},[t._v("頁")])])])},E=[],L=(i(2489),{name:"PaginationComponent",props:{currentPage:{type:Number},totalPage:{type:Number}},data(){return{txbSearchPage:""}},components:{BtnNormal:A},methods:{isCurrentPage(t){const e=Number(t);return!isNaN(e)&&e===this.currentPage},searchPage(t){const e=Number(t);e<1||isNaN(e)||e===this.currentPage||e>this.totalPage||this.$emit("searchPage",e)}},computed:{visibleBtnTextList(){return this.btnTextList.filter(((t,e)=>this.totalPage>e+1))},btnTextList(){return this.currentPage<5?["2","3","4","5","‧‧‧"]:this.currentPage>this.totalPage-4?["‧‧‧",this.totalPage-4,this.totalPage-3,this.totalPage-2,this.totalPage-1]:["‧‧‧",this.currentPage-1,this.currentPage,this.currentPage+1,"‧‧‧"]}}}),N=L,R=(0,c.A)(N,k,E,!1,null,"24854c3e",null),M=R.exports;const H={Default:0,Success:1,KickOut:2,Baned:3,PermissionModified:4,InvalidFormatOrEntry:5,ServerError:6,NoPermission:7,UserNotLogin:8,LoginFailed:9,CreateFailed:10,ModifiedFailed:11,DeleteFailed:12,GetFailed:13,HasBeenModified:14,ModifySuperAdminFailed:15};function O(t){let e;switch(t){case 1:return e="成功!",e;case 2:return e="您的帳號已被其他使用者踢出",e;case 3:return e="您的帳號已被禁用",e;case 4:return e="您的權限已被更動，請重新登入",e;case 5:return e="請求格式錯誤或無效數據",e;case 6:return e="伺服器錯誤，請再試一次",e;case 7:return e="沒有此權限",e;case 8:return e="使用者未登入",e;case 9:return e="登入失敗，請再試一次",e;case 10:return e="新增失敗，請再試一次",e;case 11:return e="修改失敗，請再試一次",e;case 12:return e="刪除失敗，請再試一次",e;case 13:return e="取得資料失敗，請再試一次",e;case 14:return e="資料已被異動",e;case 15:return e="超級管理員資料不得修改",e;default:return e="",e}}const Z={None:0,EditAdmin:1,EditMember:2};function q(t){let e;switch(t){case 0:return e="無",e;case 1:return e="超級管理員",e;case 2:return e="一般管理員",e;case 3:return e="接待員",e;case 4:return e="會計",e;case 5:return e="課程管理員",e;case 6:return e="教練管理員",e;case 7:return e="業務",e;default:}}var D={name:"HealthopeAdmin",components:{BtnNormal:A,TitleCard:T,PaginationComponent:M},props:{notificationBoxConfirmFlag:Boolean,text:String},data(){return{adminList:[],selectStatus:"",selectSortOrder:"ascending",selectSortOption:"",recordPerPage:"8",searchAccount:"",currentPage:4,totalPage:3,searchingPage:1}},methods:{adminIdentityToText:q,async goEditAdmin(t){t<1||this.$router.push({path:"/admin/edit",query:{id:t}})},redirect(t){this.$route.path!==t&&this.$router.push(t)},searchPage(t){this.searchingPage=t,this.getAdminData()},selectAdmin(){this.searchingPage=1,this.getAdminData()},async getAdminData(){if(!(this.searchAccount.length>1||""===this.searchAccount))return this.$notificationBox.notificationBoxFlag=!0,this.$notificationBox.notificationBoxTitle="輸入長度需至少 2 位數",void(this.$notificationBox.notificationBoxErrorCode=5);if("true"!==this.selectStatus&&"false"!==this.selectStatus&&""!==this.selectStatus)return;if("ascending"!==this.selectSortOrder&&"descending"!==this.selectSortOrder)return;if("account"!==this.selectSortOption&&"status"!==this.selectSortOption&&""!==this.selectSortOption)return;if("8"!==this.recordPerPage&&"12"!==this.recordPerPage&&"16"!==this.recordPerPage)return;if(this.searchingPage<1)return;let t={Status:this.selectStatus||null,SortOrder:this.selectSortOrder,SortOption:this.selectSortOption||null,RecordPerPage:this.recordPerPage,SearchAccount:this.searchAccount||null,Page:this.searchingPage};try{const e=await this.$axios.post("/api/Admin/GetAdmin",t);e.data.ErrorCode===this.$errorCodeDefine.Success?(this.currentPage=this.searchingPage,this.adminList=e.data.ApiDataObject.AdminList,this.totalPage=e.data.ApiDataObject.TotalPage):(this.unwatchFlag=this.$watch("notificationBoxConfirmFlag",(t=>{if(t){let t=null;this.$emit("afterConfirmEvent",t),this.unwatchFlag(),this.unwatchFlag=null}})),this.$notificationBox.notificationBoxFlag=!0,this.$notificationBox.notificationBoxTitle="發生錯誤!",this.$notificationBox.notificationBoxErrorCode=e.data.ErrorCode)}catch(e){console.error("取得管理者列表時發生錯誤",e)}},delAdmin(t){this.unwatchFlag=this.$watch("notificationBoxConfirmFlag",(e=>{if(e){let e="stop";this.$emit("afterConfirmEvent",e);try{this.submitDelAdmin(t)}catch(i){console.error("刪除管理員時發生錯誤",i)}finally{this.unwatchFlag(),this.unwatchFlag=null}}})),this.$notificationBox.notificationBoxFlag=!0,this.$notificationBox.notificationBoxTitle="此操作不可修改，確認刪除?",this.$notificationBox.notificationBoxCancelFlag=!0,this.$notificationBox.notificationBoxErrorCode=0},async submitDelAdmin(t){if(!(t<1))try{let e={AdminId:t};const i=await this.$axios.post("/api/Admin/DeleteAdmin",e);i.data.ErrorCode===this.$errorCodeDefine.Success?this.$emit("refreshPage"):(this.unwatchFlag=this.$watch("notificationBoxConfirmFlag",(t=>{if(t){let t=null;this.$emit("afterConfirmEvent",t),this.unwatchFlag(),this.unwatchFlag=null}})),this.$notificationBox.notificationBoxFlag=!0,this.$notificationBox.notificationBoxTitle="發生錯誤!",this.$notificationBox.notificationBoxErrorCode=i.data.ErrorCode)}catch(e){console.error("刪除失敗",e)}}},created(){this.getAdminData()}},U=D,V=(0,c.A)(U,g,x,!1,null,"755332c2",null),W=V.exports,j=function(){var t=this,e=t._self._c;return e("div",[e("TitleCard",{attrs:{text:"管理者清單"}}),e("SubTitleCard",{attrs:{text:"新增管理者"}}),e("div",{staticClass:"addInputContainer"},[e("div",{staticClass:"addInputLeft"},[e("InputSpan",{attrs:{labelText:"請輸入帳號"},model:{value:t.account,callback:function(e){t.account=e},expression:"account"}}),e("InputSpan",{attrs:{labelText:"請輸入密碼",inputType:"password"},model:{value:t.pwd,callback:function(e){t.pwd=e},expression:"pwd"}}),e("InputSpan",{attrs:{labelText:"請再輸入一次密碼",inputType:"password"},model:{value:t.pwdAgain,callback:function(e){t.pwdAgain=e},expression:"pwdAgain"}})],1),e("div",{staticClass:"addInputRight"},[e("span",{staticClass:"inputSpan"},[e("label",{staticClass:"label"},[t._v("請選擇身份")]),e("div",{staticClass:"radioContainer"},[e("label",{staticClass:"labRadioBox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectIdentity,expression:"selectIdentity"}],attrs:{type:"radio",name:"radioIdentity",value:"None",checked:""},domProps:{checked:t._q(t.selectIdentity,"None")},on:{change:function(e){t.selectIdentity="None"}}}),e("span",{staticClass:"textRadio"},[t._v("無")])]),e("label",{staticClass:"labRadioBox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectIdentity,expression:"selectIdentity"}],attrs:{type:"radio",name:"radioIdentity",value:"Admin"},domProps:{checked:t._q(t.selectIdentity,"Admin")},on:{change:function(e){t.selectIdentity="Admin"}}}),e("span",{staticClass:"textRadio"},[t._v("管理員")])]),e("label",{staticClass:"labRadioBox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectIdentity,expression:"selectIdentity"}],attrs:{type:"radio",name:"radioIdentity",value:"Receptionist"},domProps:{checked:t._q(t.selectIdentity,"Receptionist")},on:{change:function(e){t.selectIdentity="Receptionist"}}}),e("span",{staticClass:"textRadio"},[t._v("櫃檯人員")])]),e("label",{staticClass:"labRadioBox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectIdentity,expression:"selectIdentity"}],attrs:{type:"radio",name:"radioIdentity",value:"Accountant"},domProps:{checked:t._q(t.selectIdentity,"Accountant")},on:{change:function(e){t.selectIdentity="Accountant"}}}),e("span",{staticClass:"textRadio"},[t._v("會計")])]),e("label",{staticClass:"labRadioBox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectIdentity,expression:"selectIdentity"}],attrs:{type:"radio",name:"radioIdentity",value:"CourseManager"},domProps:{checked:t._q(t.selectIdentity,"CourseManager")},on:{change:function(e){t.selectIdentity="CourseManager"}}}),e("span",{staticClass:"textRadio"},[t._v("課程管理")])]),e("label",{staticClass:"labRadioBox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectIdentity,expression:"selectIdentity"}],attrs:{type:"radio",name:"radioIdentity",value:"CoachManager"},domProps:{checked:t._q(t.selectIdentity,"CoachManager")},on:{change:function(e){t.selectIdentity="CoachManager"}}}),e("span",{staticClass:"textRadio"},[t._v("教練管理")])]),e("label",{staticClass:"labRadioBox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectIdentity,expression:"selectIdentity"}],attrs:{type:"radio",name:"radioIdentity",value:"SalesRepresentative"},domProps:{checked:t._q(t.selectIdentity,"SalesRepresentative")},on:{change:function(e){t.selectIdentity="SalesRepresentative"}}}),e("span",{staticClass:"textRadio"},[t._v("業務")])])])])])]),e("div",{staticClass:"hintContainer"},[t.addFail?e("span",{staticClass:"hintSpan"},[t._v(t._s(this.hintText))]):t._e()]),e("div",{staticClass:"btnAddContainer"},[e("BtnConfirm",{attrs:{text:"創建"},on:{click:function(e){return t.addAdmin()}}})],1)],1)},z=[],G=function(){var t=this,e=t._self._c;return e("div",{staticClass:"subTitleCard"},[e("div",{staticClass:"subTitle"},[e("div",{staticClass:"goBack btn",on:{click:function(e){return t.redirectBack()}}},[e("svg",{attrs:{width:"15",height:"30",viewBox:"0 0 12 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M2.452 6.58L3.513 5.52L9.292 11.297C9.38516 11.3896 9.45909 11.4996 9.50953 11.6209C9.55998 11.7421 9.58595 11.8722 9.58595 12.0035C9.58595 12.1348 9.55998 12.2649 9.50953 12.3861C9.45909 12.5074 9.38516 12.6174 9.292 12.71L3.513 18.49L2.453 17.43L7.877 12.005L2.452 6.58Z",fill:"black"}})])]),e("p",[t._v(" "+t._s(t.text)+" ")])])])},K=[],Y={name:"SubTitleCard",props:{text:String},methods:{redirectBack(){this.$router.back()}}},J=Y,Q=(0,c.A)(J,G,K,!1,null,"7f587422",null),X=Q.exports,tt=function(){var t=this,e=t._self._c;return e("span",{staticClass:"inputSpan"},[e("label",{staticClass:"label"},[t._v(t._s(t.labelText))]),e("input",{attrs:{type:t.inputType},domProps:{value:t.localInputText},on:{input:t.onInput,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$emit("enter")}}})])},et=[],it={name:"InputSpan",props:{labelText:String,value:String,inputType:{type:String,default:"text"}},data(){return{localInputText:this.value}},watch:{value(t){this.localInputText=t}},methods:{onInput(t){const e=t.target.value;this.localInputText=e,this.$emit("input",e)}}},at=it,nt=(0,c.A)(at,tt,et,!1,null,"2380fb12",null),ot=nt.exports,st=function(){var t=this,e=t._self._c;return e("button",{staticClass:"btnConfirm btn",on:{click:function(e){return t.$emit("click",e)}}},[t._v(" "+t._s(t.text)+" ")])},rt=[],lt={name:"BtnConfirm",props:{text:[String,Number]}},ct=lt,dt=(0,c.A)(ct,st,rt,!1,null,"da46619a",null),ut=dt.exports,pt={name:"HealthopeAddAdmin",components:{TitleCard:T,SubTitleCard:X,InputSpan:ot,BtnConfirm:ut},props:{text:String,notificationBoxConfirmFlag:Boolean},data(){return{hintText:"",account:"",pwd:"",pwdAgain:"",addFail:!1,selectIdentity:"None"}},methods:{async addAdmin(){const t=/^(?=.*[a-zA-Z])(?=.*\d)[a-zA-Z\d]{8,20}$/;if(!t.test(this.account)||!t.test(this.pwd))return this.hintText="請輸入 8~20 位英文數字",void(this.addFail=!0);if(this.pwd!==this.pwdAgain)return this.hintText="兩次密碼輸入不一致",void(this.addFail=!0);if(this.account===this.pwd)return this.hintText="帳號密碼不可相同",void(this.addFail=!0);try{const t={Account:this.account,Pwd:this.pwd,Identity:this.selectIdentity},e=await this.$axios.post("/api/Admin/AddAdmin",t);if(e.data.ErrorCode===this.$errorCodeDefine.Success)return this.addFail=!1,void this.$router.push("/admin");this.unwatchFlag=this.$watch("notificationBoxConfirmFlag",(t=>{if(t){let t=null;this.$emit("afterConfirmEvent",t),this.unwatchFlag(),this.unwatchFlag=null}})),this.$notificationBox.notificationBoxFlag=!0,this.$notificationBox.notificationBoxTitle="發生錯誤!",this.$notificationBox.notificationBoxErrorCode=e.data.ErrorCode}catch(e){console.error("創建管理者時發生錯誤",e)}}}},ht=pt,mt=(0,c.A)(ht,j,z,!1,null,"0bb44c5b",null),Ct=mt.exports,ft=function(){var t=this,e=t._self._c;return e("div",[e("TitleCard",{attrs:{text:"管理者清單"}}),e("SubTitleCard",{attrs:{text:"修改管理者"}}),e("div",{staticClass:"adminCardContainer"},[e("div",{staticClass:"adminCard"},[e("div",{staticClass:"adminText"},[t._v("管理者")]),e("div",{staticClass:"admin"},[e("div",{staticClass:"cardImage"},[e("svg",{attrs:{width:"50",height:"50",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M12 4C13.0609 4 14.0783 4.42143 14.8284 5.17157C15.5786 5.92172 16 6.93913 16 8C16 9.06087 15.5786 10.0783 14.8284 10.8284C14.0783 11.5786 13.0609 12 12 12C10.9391 12 9.92172 11.5786 9.17157 10.8284C8.42143 10.0783 8 9.06087 8 8C8 6.93913 8.42143 5.92172 9.17157 5.17157C9.92172 4.42143 10.9391 4 12 4ZM12 14C16.42 14 20 15.79 20 18V20H4V18C4 15.79 7.58 14 12 14Z",fill:"white"}})])]),e("div",{staticClass:"adminName"},[e("span",[t._v(t._s(t.admin.Account))])])])])]),e("div",{staticClass:"editInputContainer"},[e("div",{staticClass:"editInputLeft"},[e("span",{staticClass:"inputSpan"},[e("label",{staticClass:"lab"},[t._v("請選擇狀態")]),e("div",{staticClass:"radioContainer"},[e("label",{staticClass:"labRadioBox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectStatus,expression:"selectStatus"}],attrs:{type:"radio",name:"radioStatus",value:"true"},domProps:{checked:t._q(t.selectStatus,"true")},on:{change:function(e){t.selectStatus="true"}}}),e("span",{staticClass:"textRadio"},[t._v("啟用")])]),e("label",{staticClass:"labRadioBox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectStatus,expression:"selectStatus"}],attrs:{type:"radio",name:"radioStatus",value:"false"},domProps:{checked:t._q(t.selectStatus,"false")},on:{change:function(e){t.selectStatus="false"}}}),e("span",{staticClass:"textRadio"},[t._v("停用")])])])])]),e("div",{staticClass:"editInputRight"},[e("span",{staticClass:"inputSpan"},[e("label",{staticClass:"lab"},[t._v("請選擇身份")]),e("div",{staticClass:"radioContainer"},[e("label",{staticClass:"labRadioBox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectIdentity,expression:"selectIdentity"}],attrs:{type:"radio",name:"radioIdentity",value:"None",checked:""},domProps:{checked:t._q(t.selectIdentity,"None")},on:{change:function(e){t.selectIdentity="None"}}}),e("span",{staticClass:"textRadio"},[t._v("無")])]),e("label",{staticClass:"labRadioBox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectIdentity,expression:"selectIdentity"}],attrs:{type:"radio",name:"radioIdentity",value:"Admin"},domProps:{checked:t._q(t.selectIdentity,"Admin")},on:{change:function(e){t.selectIdentity="Admin"}}}),e("span",{staticClass:"textRadio"},[t._v("管理員")])]),e("label",{staticClass:"labRadioBox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectIdentity,expression:"selectIdentity"}],attrs:{type:"radio",name:"radioIdentity",value:"Receptionist"},domProps:{checked:t._q(t.selectIdentity,"Receptionist")},on:{change:function(e){t.selectIdentity="Receptionist"}}}),e("span",{staticClass:"textRadio"},[t._v("櫃檯人員")])]),e("label",{staticClass:"labRadioBox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectIdentity,expression:"selectIdentity"}],attrs:{type:"radio",name:"radioIdentity",value:"Accountant"},domProps:{checked:t._q(t.selectIdentity,"Accountant")},on:{change:function(e){t.selectIdentity="Accountant"}}}),e("span",{staticClass:"textRadio"},[t._v("會計")])]),e("label",{staticClass:"labRadioBox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectIdentity,expression:"selectIdentity"}],attrs:{type:"radio",name:"radioIdentity",value:"CourseManager"},domProps:{checked:t._q(t.selectIdentity,"CourseManager")},on:{change:function(e){t.selectIdentity="CourseManager"}}}),e("span",{staticClass:"textRadio"},[t._v("課程管理")])]),e("label",{staticClass:"labRadioBox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectIdentity,expression:"selectIdentity"}],attrs:{type:"radio",name:"radioIdentity",value:"CoachManager"},domProps:{checked:t._q(t.selectIdentity,"CoachManager")},on:{change:function(e){t.selectIdentity="CoachManager"}}}),e("span",{staticClass:"textRadio"},[t._v("教練管理")])]),e("label",{staticClass:"labRadioBox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectIdentity,expression:"selectIdentity"}],attrs:{type:"radio",name:"radioIdentity",value:"SalesRepresentative"},domProps:{checked:t._q(t.selectIdentity,"SalesRepresentative")},on:{change:function(e){t.selectIdentity="SalesRepresentative"}}}),e("span",{staticClass:"textRadio"},[t._v("業務")])])])])])]),e("div",{staticClass:"hintContainer"},[t.addFail?e("span",{staticClass:"hintSpan"},[t._v(t._s(this.hintText))]):t._e()]),e("div",{staticClass:"btnAddContainer"},[e("button",{staticClass:"btnAdd btn",on:{click:function(e){return t.editAdmin()}}},[t._v("確認修改")])])],1)},vt=[],gt={name:"HealthopeEditAdmin",components:{TitleCard:T,SubTitleCard:X},props:{notificationBoxConfirmFlag:Boolean},data(){return{addFail:!1,selectIdentity:"None",selectStatus:"true",admin:{AdminId:0,Account:"",Status:!0,Identity:1,UpdateTime:""}}},methods:{async editAdmin(){try{let t=this.admin.Status?"true":"false",e=!1,i={AdminId:this.admin.AdminId,UpdateTime:this.admin.UpdateTime};if(this.selectStatus!==t){if("true"!==this.selectStatus&&"false"!==this.selectStatus)return;i.Status=this.selectStatus,e=!0}else i.Status=null;if(this.selectIdentity!==this.identityToText(this.admin.Identity)){let t=this.identityTextToNumber(this.selectIdentity);if("number"!==typeof t)return;i.Identity=t,e=!0}else i.Identity=null;if(!e)return;const a=await this.$axios.post("/api/Admin/EditAdmin",i);a.data.ErrorCode===this.$errorCodeDefine.Success?this.$router.push("/admin"):(this.unwatchFlag=this.$watch("notificationBoxConfirmFlag",(t=>{if(t){let t=null;this.$emit("afterConfirmEvent",t),this.unwatchFlag(),this.unwatchFlag=null}})),this.$notificationBox.notificationBoxFlag=!0,this.$notificationBox.notificationBoxTitle="發生錯誤!",this.$notificationBox.notificationBoxErrorCode=a.data.ErrorCode)}catch(t){console.error("取得特定管理者時發生錯誤",t)}},async getAdminById(t){try{let e={AdminId:t};const i=await this.$axios.post("/api/Admin/GetAdminById",e);i.data.ErrorCode===this.$errorCodeDefine.Success?(this.admin=i.data.ApiDataObject,this.admin.AdminId=t,this.selectStatus=this.admin.Status?"true":"false",this.selectIdentity=this.identityToText(this.admin.Identity)):(this.unwatchFlag=this.$watch("notificationBoxConfirmFlag",(t=>{if(t){let t="/admin";this.$emit("afterConfirmEvent",t),this.unwatchFlag(),this.unwatchFlag=null}})),this.$notificationBox.notificationBoxFlag=!0,this.$notificationBox.notificationBoxTitle="發生錯誤!",this.$notificationBox.notificationBoxErrorCode=i.data.ErrorCode)}catch(e){console.error("取得特定管理者時發生錯誤",e)}},identityToText(t){let e;switch(t){case 2:return e="Admin",e;case 3:return e="Receptionist",e;case 4:return e="Accountant",e;case 5:return e="CourseManager",e;case 6:return e="CoachManager",e;case 7:return e="SalesRepresentative",e;default:return e="None",e}},identityTextToNumber(t){let e;switch(t){case"None":return e=0,e;case"Admin":return e=2,e;case"Receptionist":return e=3,e;case"Accountant":return e=4,e;case"CourseManager":return e=5,e;case"CoachManager":return e=6,e;case"SalesRepresentative":return e=7,e;default:return t}}},created(){this.$route.query.id?this.getAdminById(this.$route.query.id):this.$router.push("/admin")}},xt=gt,wt=(0,c.A)(xt,ft,vt,!1,null,"59ca73a4",null),yt=wt.exports,bt=function(){var t=this,e=t._self._c;return e("div",[e("TitleCard",{attrs:{text:"會員清單"}})],1)},Bt=[],Pt={name:"HealthopeMember",components:{TitleCard:T},props:{text:String},data(){return{hintText:""}},methods:{}},At=Pt,_t=(0,c.A)(At,bt,Bt,!1,null,null,null),St=_t.exports,$t=function(){var t=this,e=t._self._c;return e("div",[e("TitleCard",{attrs:{text:"修改密碼"}}),e("div",{staticClass:"inputBox"},[e("div",{staticClass:"inputContainer"},[e("InputSpan",{staticClass:"inputSpan",attrs:{labelText:"請輸入舊密碼"},on:{enter:t.editSelfPwd},model:{value:t.oldPwd,callback:function(e){t.oldPwd=e},expression:"oldPwd"}}),e("InputSpan",{staticClass:"inputSpan",attrs:{labelText:"請輸入新密碼",inputType:"password"},on:{enter:t.editSelfPwd},model:{value:t.newPwd,callback:function(e){t.newPwd=e},expression:"newPwd"}}),e("InputSpan",{staticClass:"inputSpan",attrs:{labelText:"請再輸入一次新密碼",inputType:"password"},on:{enter:t.editSelfPwd},model:{value:t.newAgainPwd,callback:function(e){t.newAgainPwd=e},expression:"newAgainPwd"}})],1)]),e("div",{staticClass:"hintContainer"},[t.editFail?e("span",{staticClass:"hintSpan"},[t._v(t._s(this.hintText))]):t._e()]),e("div",{staticClass:"btnAddContainer"},[e("BtnConfirm",{attrs:{text:"確認"},on:{click:t.editSelfPwd}})],1)],1)},Ft=[],It={name:"HealthopeEditSelfPwd",components:{TitleCard:T,InputSpan:ot,BtnConfirm:ut},props:{notificationBoxConfirmFlag:Boolean},data(){return{hintText:"",oldPwd:"",newPwd:"",newAgainPwd:"",editFail:!1}},methods:{async editSelfPwd(){const t=/^(?=.*[a-zA-Z])(?=.*\d)[a-zA-Z\d]{8,20}$/;if(!t.test(this.oldPwd)||!t.test(this.newPwd))return this.hintText="請輸入 8~20 位英文數字",void(this.editFail=!0);if(this.newPwd!==this.newAgainPwd)return this.hintText="兩次密碼輸入不一致",void(this.editFail=!0);if(this.oldPwd===this.newPwd)return this.hintText="新舊密碼不可相同",void(this.editFail=!0);try{const t={OldPwd:this.oldPwd,NewPwd:this.newPwd},e=await this.$axios.post("/api/AccountAccess/EditSelfPwd",t);if(e.data.ErrorCode===this.$errorCodeDefine.Success)return this.editFail=!1,void this.$router.go(0);this.unwatchFlag=this.$watch("notificationBoxConfirmFlag",(t=>{if(t){let t=null;this.$emit("afterConfirmEvent",t),this.unwatchFlag(),this.unwatchFlag=null}})),this.$notificationBox.notificationBoxFlag=!0,this.$notificationBox.notificationBoxTitle="發生錯誤!",this.$notificationBox.notificationBoxErrorCode=e.data.ErrorCode}catch(e){console.error("修改密碼時發生錯誤",e)}}}},Tt=It,kt=(0,c.A)(Tt,$t,Ft,!1,null,"589a50b1",null),Et=kt.exports,Lt=i(4373);const Nt=[{path:"/login",name:"HealthopeLogin",component:v,meta:{requireAuth:null}},{path:"/",name:"HealthopeHome",component:u,meta:{requireAuth:"login"}},{path:"/editSelfPwd",name:"HealthopeEditSelfPwd",component:Et,meta:{requireAuth:"login"}},{path:"/admin",name:"HealthopeAdmin",component:W,meta:{requireAuth:[{adminPermission:Z.EditAdmin}]}},{path:"/admin/add",name:"HealthopeAddAdmin",component:Ct,meta:{requireAuth:[{adminPermission:Z.EditAdmin}]}},{path:"/admin/edit",name:"HealthopeEditAdmin",component:yt,meta:{requireAuth:[{adminPermission:Z.EditAdmin}]}},{path:"/member",name:"HealthopeMember",component:St,meta:{requireAuth:[{adminPermission:Z.EditMember}]}},{path:"*",name:"HealthopeDefault",component:u,meta:{requireAuth:"login"}}],Rt=new n.Ay({routes:Nt,mode:"history"});Rt.beforeEach((async(t,e,i)=>{const n=t.meta.requireAuth;let o;o="login"===n?null:n;const s=await Lt.A.post("/api/AccountAccess/HavePermission",o);return s.data.ErrorCode===H.UserNotLogin?"HealthopeLogin"===t.name?(a.Ay.prototype.$loginFlag=!1,i()):(a.Ay.prototype.$loginFlag=!1,i({name:"HealthopeLogin"})):(a.Ay.prototype.$loginFlag=!0,"HealthopeLogin"===t.name&&s.data.ErrorCode!==H.UserNotLogin?(a.Ay.prototype.$loginFlag=!0,i({name:"HealthopeHome"})):s.data.ErrorCode===H.Success?(a.Ay.prototype.$loginFlag=!0,i()):i({name:"HealthopeHome"}))}));var Mt=Rt,Ht=function(){var t=this,e=t._self._c;return e("div",{staticClass:"app"},[this.$notificationBox.notificationBoxFlag?e("NotificationBox",{staticClass:"notificationBox",on:{notificationBoxConfirm:t.notificationBoxConfirm}}):t._e(),this.$loginFlag?e("AppSidebar",{staticClass:"sidebar",attrs:{permissionList:t.permissionList,notificationBoxConfirmFlag:t.notificationBoxConfirmFlag},on:{afterConfirmEvent:t.afterConfirmEvent,refreshPage:t.refreshRouterViewComponent}}):t._e(),e("AppHeader",{attrs:{title:t.title,notificationBoxConfirmFlag:t.notificationBoxConfirmFlag},on:{afterConfirmEvent:t.afterConfirmEvent}}),e("router-view",{key:t.routerViewKey,class:{contentContainer:this.$loginFlag},attrs:{title:t.title,notificationBoxConfirmFlag:t.notificationBoxConfirmFlag},on:{sendPermission:t.setPermission,refreshPage:t.refreshRouterViewComponent,afterConfirmEvent:t.afterConfirmEvent}}),e("AppFooter")],1)},Ot=[],Zt=function(){var t=this,e=t._self._c;return e("footer",[e("p",[t._v("Healthope © "+t._s(t.year))])])},qt=[],Dt={name:"AppFooter",data(){return{year:2025}},created(){this.year=(new Date).getFullYear()}},Ut=Dt,Vt=(0,c.A)(Ut,Zt,qt,!1,null,"f3bfc5ec",null),Wt=Vt.exports,jt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"notificationBox",attrs:{id:""}},[e("div",{staticClass:"notificationBoxContainer"},[e("span",{staticClass:"close",on:{click:t.notificationCancel}},[t._v("×")]),e("div",{staticClass:"notificationBoxTitle"},[e("h2",[t._v(t._s(this.$notificationBox.notificationBoxTitle))])]),e("div",{staticClass:"notificationBoxContent"},[e("p",[t._v(" "+t._s(this.$errorCodeToMessage(this.$notificationBox.notificationBoxErrorCode))+" ")])]),e("div",{staticClass:"notificationBoxBtn"},[e("button",{staticClass:"btnConfirm",on:{click:t.notificationBoxConfirm}},[t._v("OK")]),this.$notificationBox.notificationBoxCancelFlag?e("button",{staticClass:"btnCancel",on:{click:t.notificationCancel}},[t._v(" Cancel ")]):t._e()])])])},zt=[],Gt={name:"NotificationBox",methods:{notificationBoxConfirm(){this.$notificationBox.notificationBoxFlag=!1,this.$notificationBox.notificationBoxCancelFlag=!1,this.$emit("notificationBoxConfirm")},notificationCancel(){this.$notificationBox.notificationBoxFlag=!1,this.$notificationBox.notificationBoxCancelFlag=!1}},created(){}},Kt=Gt,Yt=(0,c.A)(Kt,jt,zt,!1,null,"66cb84ac",null),Jt=Yt.exports,Qt=function(){var t=this,e=t._self._c;return e("div",[e("header",[e("div",{staticClass:"headerContainer"},[e("div",{staticClass:"logoContainer"},[e("router-link",{attrs:{to:"/"}},[e("img",{staticClass:"btn",attrs:{src:i(5660)}})])],1),t.loginPage?t._e():e("div",{staticClass:"dropDownImg"},[e("svg",{staticClass:"btn",attrs:{width:"35",height:"35",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},on:{click:t.openPopUpWindow}},[e("path",{attrs:{d:"M19.2502 8.5C19.9796 8.5 20.679 8.21027 21.1948 7.69454C21.7105 7.17882 22.0002 6.47935 22.0002 5.75C22.0002 5.02065 21.7105 4.32118 21.1948 3.80546C20.679 3.28973 19.9796 3 19.2502 3C18.5209 3 17.8214 3.28973 17.3057 3.80546C16.7899 4.32118 16.5002 5.02065 16.5002 5.75C16.5002 6.47935 16.7899 7.17882 17.3057 7.69454C17.8214 8.21027 18.5209 8.5 19.2502 8.5ZM15.5762 6.503C15.4759 6.0081 15.4752 5.49817 15.5742 5.003H2.75221L2.65021 5.01C2.46196 5.0359 2.29056 5.13229 2.17065 5.2797C2.05073 5.42711 1.99123 5.61454 2.00419 5.80412C2.01714 5.9937 2.10157 6.1713 2.24042 6.30103C2.37927 6.43076 2.56219 6.50294 2.75221 6.503H15.5762ZM21.2532 18H2.75321L2.65121 18.007C2.46296 18.0329 2.29156 18.1293 2.17165 18.2767C2.05173 18.4241 1.99223 18.6115 2.00519 18.8011C2.01814 18.9907 2.10257 19.1683 2.24142 19.298C2.38027 19.4278 2.56319 19.4999 2.75321 19.5H21.2532L21.3552 19.493C21.5435 19.4671 21.7149 19.3707 21.8348 19.2233C21.9547 19.0759 22.0142 18.8885 22.0012 18.6989C21.9883 18.5093 21.9039 18.3317 21.765 18.202C21.6262 18.0722 21.4432 18.0001 21.2532 18ZM2.75321 11.503H21.2532C21.4432 11.5031 21.6262 11.5752 21.765 11.705C21.9039 11.8347 21.9883 12.0123 22.0012 12.2019C22.0142 12.3915 21.9547 12.5789 21.8348 12.7263C21.7149 12.8737 21.5435 12.9701 21.3552 12.996L21.2532 13.003H2.75321C2.56319 13.0029 2.38027 12.9308 2.24142 12.801C2.10257 12.6713 2.01814 12.4937 2.00519 12.3041C1.99223 12.1145 2.05173 11.9271 2.17165 11.7797C2.29156 11.6323 2.46296 11.5359 2.65121 11.51L2.75321 11.503Z",fill:"#757575"}})])])])]),t.popUpFlag?e("div",{staticClass:"popUpWindowContainer"},[e("HeaderPopUp",{ref:"popUpWindow",staticClass:"popUpWindow",attrs:{notificationBoxConfirmFlag:this.notificationBoxConfirmFlag},on:{closePopUpWindow:function(e){return t.closePopUpWindow()},afterConfirmEvent:t.afterConfirmEvent}})],1):t._e()])},Xt=[],te=function(){var t=this,e=t._self._c;return e("div",{staticClass:"card"},[e("div",{staticClass:"closeBtnContainer"},[e("svg",{staticClass:"closeBtn",attrs:{width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},on:{click:function(e){return t.$emit("closePopUpWindow")}}},[e("path",{attrs:{d:"M6.4 19L5 17.6L10.6 12L5 6.4L6.4 5L12 10.6L17.6 5L19 6.4L13.4 12L19 17.6L17.6 19L12 13.4L6.4 19Z",fill:"#757575"}})])]),e("h3",[t._v("管理員，你好！")]),e("div",{staticClass:"btnContainer"},[e("button",[e("span",{staticClass:"btnTop",on:{click:t.goEditSelfPwd}},[t._v("修改密碼")])])]),e("div",{staticClass:"btnContainer"},[e("button",[e("span",{staticClass:"btnTop",on:{click:function(e){return t.logout()}}},[t._v("登出")])])])])},ee=[],ie={name:"HeaderPopUp",props:{notificationBoxConfirmFlag:Boolean},methods:{async logout(){const t=await this.$axios.post("/api/AccountAccess/AdminLogout");if(t.data.ErrorCode===this.$errorCodeDefine.Success)return this.$emit("closePopUpWindow"),void this.$router.push("/login");this.unwatchFlag=this.$watch("notificationBoxConfirmFlag",(t=>{if(t){let t=null;this.$emit("afterConfirmEvent",t),this.unwatchFlag(),this.unwatchFlag=null}})),this.$notificationBox.notificationBoxFlag=!0,this.$notificationBox.notificationBoxTitle="發生錯誤!",this.$notificationBox.notificationBoxErrorCode=t.data.ErrorCode},goEditSelfPwd(){this.$emit("closePopUpWindow"),this.$router.push("/editSelfPwd")}}},ae=ie,ne=(0,c.A)(ae,te,ee,!1,null,"40d8ad8e",null),oe=ne.exports,se={name:"AppHeader",components:{HeaderPopUp:oe},props:{notificationBoxConfirmFlag:Boolean,title:String},data(){return{popUpFlag:!1}},computed:{loginPage(){return"/login"==this.$route.path}},methods:{openPopUpWindow(){1!=this.popUpFlag?(this.popUpFlag=!0,this.$nextTick((()=>{setTimeout((()=>{document.addEventListener("click",this.clickOutside)}),0)}))):this.popUpFlag},closePopUpWindow(){0!=this.popUpFlag&&(this.popUpFlag=!1,document.removeEventListener("click",this.clickOutside))},clickOutside(t){const e=this.$refs.popUpWindow?.$el;e&&!e.contains(t.target)&&this.closePopUpWindow()},afterConfirmEvent(t){this.$emit("afterConfirmEvent",t)}}},re=se,le=(0,c.A)(re,Qt,Xt,!1,null,"75c81c98",null),ce=le.exports,de=function(){var t=this,e=t._self._c;return e("div",{staticClass:"sidebarCard"},[t.permissionMap.EditAdmin?e("div",{staticClass:"sidebarRow"},[e("button",{staticClass:"btnSidebar",on:{click:function(e){return t.redirect("/admin")}}},[e("svg",{staticClass:"sidebarIcon",attrs:{width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 2C17.523 2 22 6.477 22 12C22.0034 14.3079 21.2053 16.5453 19.742 18.33L19.762 18.352L19.63 18.464C18.6921 19.5731 17.5235 20.4642 16.2056 21.0749C14.8878 21.6856 13.4525 22.0014 12 22C9.05 22 6.4 20.723 4.57 18.693L4.37 18.463L4.238 18.353L4.258 18.329C2.79491 16.5446 1.99679 14.3075 2 12C2 6.477 6.477 2 12 2ZM12 17C10.14 17 8.459 17.592 7.207 18.406C8.58959 19.4429 10.2718 20.0024 12 20C13.7282 20.0024 15.4104 19.4429 16.793 18.406C15.3623 17.4894 13.6991 17.0015 12 17ZM12 4C10.4945 3.99996 9.01959 4.42471 7.74472 5.22545C6.46986 6.02619 5.44681 7.1704 4.79316 8.52657C4.13952 9.88274 3.88181 11.3958 4.04965 12.8919C4.2175 14.388 4.80409 15.8064 5.742 16.984C7.363 15.821 9.575 15 12 15C14.425 15 16.637 15.821 18.258 16.984C19.1959 15.8064 19.7825 14.388 19.9504 12.8919C20.1182 11.3958 19.8605 9.88274 19.2068 8.52657C18.5532 7.1704 17.5301 6.02619 16.2553 5.22545C14.9804 4.42471 13.5055 3.99996 12 4ZM12 6C13.0609 6 14.0783 6.42143 14.8284 7.17157C15.5786 7.92172 16 8.93913 16 10C16 11.0609 15.5786 12.0783 14.8284 12.8284C14.0783 13.5786 13.0609 14 12 14C10.9391 14 9.92172 13.5786 9.17157 12.8284C8.42143 12.0783 8 11.0609 8 10C8 8.93913 8.42143 7.92172 9.17157 7.17157C9.92172 6.42143 10.9391 6 12 6ZM12 8C11.4696 8 10.9609 8.21071 10.5858 8.58579C10.2107 8.96086 10 9.46957 10 10C10 10.5304 10.2107 11.0391 10.5858 11.4142C10.9609 11.7893 11.4696 12 12 12C12.5304 12 13.0391 11.7893 13.4142 11.4142C13.7893 11.0391 14 10.5304 14 10C14 9.46957 13.7893 8.96086 13.4142 8.58579C13.0391 8.21071 12.5304 8 12 8Z",fill:"#757575"}})]),e("b",[t._v("管理員")])])]):t._e(),t.permissionMap.EditMember?e("div",{staticClass:"sidebarRow"},[e("button",{staticClass:"btnSidebar",on:{click:function(e){return t.redirect("/member")}}},[e("svg",{staticClass:"sidebarIcon",attrs:{width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 2C17.523 2 22 6.477 22 12C22.0034 14.3079 21.2053 16.5453 19.742 18.33L19.762 18.352L19.63 18.464C18.6921 19.5731 17.5235 20.4642 16.2056 21.0749C14.8878 21.6856 13.4525 22.0014 12 22C9.05 22 6.4 20.723 4.57 18.693L4.37 18.463L4.238 18.353L4.258 18.329C2.79491 16.5446 1.99679 14.3075 2 12C2 6.477 6.477 2 12 2ZM12 17C10.14 17 8.459 17.592 7.207 18.406C8.58959 19.4429 10.2718 20.0024 12 20C13.7282 20.0024 15.4104 19.4429 16.793 18.406C15.3623 17.4894 13.6991 17.0015 12 17ZM12 4C10.4945 3.99996 9.01959 4.42471 7.74472 5.22545C6.46986 6.02619 5.44681 7.1704 4.79316 8.52657C4.13952 9.88274 3.88181 11.3958 4.04965 12.8919C4.2175 14.388 4.80409 15.8064 5.742 16.984C7.363 15.821 9.575 15 12 15C14.425 15 16.637 15.821 18.258 16.984C19.1959 15.8064 19.7825 14.388 19.9504 12.8919C20.1182 11.3958 19.8605 9.88274 19.2068 8.52657C18.5532 7.1704 17.5301 6.02619 16.2553 5.22545C14.9804 4.42471 13.5055 3.99996 12 4ZM12 6C13.0609 6 14.0783 6.42143 14.8284 7.17157C15.5786 7.92172 16 8.93913 16 10C16 11.0609 15.5786 12.0783 14.8284 12.8284C14.0783 13.5786 13.0609 14 12 14C10.9391 14 9.92172 13.5786 9.17157 12.8284C8.42143 12.0783 8 11.0609 8 10C8 8.93913 8.42143 7.92172 9.17157 7.17157C9.92172 6.42143 10.9391 6 12 6ZM12 8C11.4696 8 10.9609 8.21071 10.5858 8.58579C10.2107 8.96086 10 9.46957 10 10C10 10.5304 10.2107 11.0391 10.5858 11.4142C10.9609 11.7893 11.4696 12 12 12C12.5304 12 13.0391 11.7893 13.4142 11.4142C13.7893 11.0391 14 10.5304 14 10C14 9.46957 13.7893 8.96086 13.4142 8.58579C13.0391 8.21071 12.5304 8 12 8Z",fill:"#757575"}})]),e("b",[t._v("會員")])])]):t._e(),e("div",{staticClass:"sidebarRow"},[e("button",{staticClass:"btnSidebar"},[e("svg",{staticClass:"sidebarIcon",attrs:{width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 2C17.523 2 22 6.477 22 12C22.0034 14.3079 21.2053 16.5453 19.742 18.33L19.762 18.352L19.63 18.464C18.6921 19.5731 17.5235 20.4642 16.2056 21.0749C14.8878 21.6856 13.4525 22.0014 12 22C9.05 22 6.4 20.723 4.57 18.693L4.37 18.463L4.238 18.353L4.258 18.329C2.79491 16.5446 1.99679 14.3075 2 12C2 6.477 6.477 2 12 2ZM12 17C10.14 17 8.459 17.592 7.207 18.406C8.58959 19.4429 10.2718 20.0024 12 20C13.7282 20.0024 15.4104 19.4429 16.793 18.406C15.3623 17.4894 13.6991 17.0015 12 17ZM12 4C10.4945 3.99996 9.01959 4.42471 7.74472 5.22545C6.46986 6.02619 5.44681 7.1704 4.79316 8.52657C4.13952 9.88274 3.88181 11.3958 4.04965 12.8919C4.2175 14.388 4.80409 15.8064 5.742 16.984C7.363 15.821 9.575 15 12 15C14.425 15 16.637 15.821 18.258 16.984C19.1959 15.8064 19.7825 14.388 19.9504 12.8919C20.1182 11.3958 19.8605 9.88274 19.2068 8.52657C18.5532 7.1704 17.5301 6.02619 16.2553 5.22545C14.9804 4.42471 13.5055 3.99996 12 4ZM12 6C13.0609 6 14.0783 6.42143 14.8284 7.17157C15.5786 7.92172 16 8.93913 16 10C16 11.0609 15.5786 12.0783 14.8284 12.8284C14.0783 13.5786 13.0609 14 12 14C10.9391 14 9.92172 13.5786 9.17157 12.8284C8.42143 12.0783 8 11.0609 8 10C8 8.93913 8.42143 7.92172 9.17157 7.17157C9.92172 6.42143 10.9391 6 12 6ZM12 8C11.4696 8 10.9609 8.21071 10.5858 8.58579C10.2107 8.96086 10 9.46957 10 10C10 10.5304 10.2107 11.0391 10.5858 11.4142C10.9609 11.7893 11.4696 12 12 12C12.5304 12 13.0391 11.7893 13.4142 11.4142C13.7893 11.0391 14 10.5304 14 10C14 9.46957 13.7893 8.96086 13.4142 8.58579C13.0391 8.21071 12.5304 8 12 8Z",fill:"#757575"}})]),e("b",[t._v("教練")])])]),e("div",{staticClass:"sidebarRow"},[e("button",{staticClass:"btnSidebar"},[e("svg",{staticClass:"sidebarIcon",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M4 19V20H22V22H2V2H4V17C7 17 10 15 12.1 11.4C15.1 6.4 18.4 4 22 4V6C19.2 6 16.5 8.1 13.9 12.5C11.3 16.6 7.7 19 4 19Z",fill:"black"}})]),e("b",[t._v("報表")])])])])},ue=[],pe={name:"AppSidebar",props:{permissionList:[],notificationBoxConfirmFlag:Boolean},data(){return{permissionMap:{EditAdmin:!1,EditMember:!1,None:!0}}},created(){this.initializePermissionMap(this.permissionList),this.setScrollWithWindow()},methods:{redirect(t){this.$route.path===t?this.$emit("refreshPage"):this.$router.push(t)},initializePermissionMap(t){for(let e in this.$adminPermission){const i=this.$adminPermission[e];this.permissionMap[e]=t.includes(i)}},async getPermission(){try{const t=await this.$axios.post("/api/Admin/GetPermission");t.data.ErrorCode===this.$errorCodeDefine.Success?this.initializePermissionMap(t.data.ApiDataObject):(this.unwatchFlag=this.$watch("notificationBoxConfirmFlag",(t=>{t&&(this.$emit("afterConfirmEvent"),this.unwatchFlag(),this.unwatchFlag=null)})),this.$notificationBox.notificationBoxFlag=!0,this.$notificationBox.notificationBoxTitle="發生錯誤!",this.$notificationBox.notificationBoxErrorCode=t.data.ErrorCode)}catch(t){console.error("創建管理者時發生錯誤",t)}},setScrollWithWindow(){window.addEventListener("scroll",(()=>{const t=document.querySelector(".headerContainer"),e=document.querySelector(".sidebarCard"),i=t.getBoundingClientRect().bottom;e.style.top=i<=80?i<=0?0:i+"px":"auto"}))}},mounted(){this.permissionList.length>0||!this.$loginFlag||this.getPermission()}},he=pe,me=(0,c.A)(he,de,ue,!1,null,"35830613",null),Ce=me.exports,fe={name:"App",components:{AppFooter:Wt,AppHeader:ce,NotificationBox:Jt,AppSidebar:Ce},data(){return{title:"Healthope 健望館後台管理網站",permissionList:[],routerViewKey:0,notificationBoxConfirmFlag:!1}},methods:{setPermission(t){this.permissionList=t},refreshRouterViewComponent(){this.routerViewKey+=1},notificationBoxConfirm(){this.notificationBoxConfirmFlag=!0},afterConfirmEvent(t){this.notificationBoxConfirmFlag=!1,"stop"!==t&&(t?this.$router.push(t):this.refreshRouterViewComponent())}}},ve=fe,ge=(0,c.A)(ve,Ht,Ot,!1,null,null,null),xe=ge.exports;a.Ay.prototype.$errorCodeDefine=H,a.Ay.prototype.$errorCodeToMessage=O,a.Ay.prototype.$adminPermission=Z,a.Ay.prototype.$loginFlag=!1,a.Ay.prototype.$axios=Lt.A,a.Ay.prototype.$notificationBox=a.Ay.observable({notificationBoxFlag:!1,notificationBoxTitle:"",notificationBoxErrorCode:0,notificationBoxCancelFlag:!1}),a.Ay.config.productionTip=!1,a.Ay.use(n.Ay),new a.Ay({router:Mt,render:t=>t(xe)}).$mount("#app")},5660:function(t,e,i){t.exports=i.p+"img/HealthopeCMSLogo.8c088643.png"},6709:function(t,e,i){t.exports=i.p+"img/HealthopeLogo-circle-removebg-preview.277aed21.png"}},e={};function i(a){var n=e[a];if(void 0!==n)return n.exports;var o=e[a]={exports:{}};return t[a].call(o.exports,o,o.exports,i),o.exports}i.m=t,function(){var t=[];i.O=function(e,a,n,o){if(!a){var s=1/0;for(d=0;d<t.length;d++){a=t[d][0],n=t[d][1],o=t[d][2];for(var r=!0,l=0;l<a.length;l++)(!1&o||s>=o)&&Object.keys(i.O).every((function(t){return i.O[t](a[l])}))?a.splice(l--,1):(r=!1,o<s&&(s=o));if(r){t.splice(d--,1);var c=n();void 0!==c&&(e=c)}}return e}o=o||0;for(var d=t.length;d>0&&t[d-1][2]>o;d--)t[d]=t[d-1];t[d]=[a,n,o]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var a in e)i.o(e,a)&&!i.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){i.p="/wwwroot/"}(),function(){var t={524:0};i.O.j=function(e){return 0===t[e]};var e=function(e,a){var n,o,s=a[0],r=a[1],l=a[2],c=0;if(s.some((function(e){return 0!==t[e]}))){for(n in r)i.o(r,n)&&(i.m[n]=r[n]);if(l)var d=l(i)}for(e&&e(a);c<s.length;c++)o=s[c],i.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return i.O(d)},a=self["webpackChunkfront"]=self["webpackChunkfront"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=i.O(void 0,[504],(function(){return i(2021)}));a=i.O(a)})();
//# sourceMappingURL=app.bb0c2081.js.map